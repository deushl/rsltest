var iCurCommIdx=0,dCurDate=new Date,WireUp={Fmain_menu:function(){$("."+Viewer.cMenuNavClass+":not(.bh-wired)").addClass("bh-wired").on("click","[id^='nav-item-']",function(t){if(t.preventDefault(),t.stopPropagation(),$(this).hasClass("has-sub")&&$(this).children(".sub-menu")){var e=function(){var t=$(".page-content"),e=$(".bh-nav-main");t.attr("data-height")||t.attr("data-height",t.height()),e.height()>t.height()?t.css("min-height",e.height()+20):t.css("min-height",t.attr("data-height"))},s=$(this).parent().children('.open[id!="'+this.id+'"]');s.children("a").children(".arrow").removeClass("open"),s.children(".sub-menu").slideUp(_BH_FESets.slide_speed),s.removeClass("open");var a=$(this).children(".sub-menu");a.is(":visible")?($("a .arrow",$(this)).removeClass("open"),$(this).removeClass("open"),a.slideUp(_BH_FESets.slide_speed,function(){e()})):($("a .arrow",$(this)).addClass("open"),$(this).addClass("open"),a.slideDown(_BH_FESets.slide_speed,function(){e()})),$(this).closest("#BHSidePanel").length&&$.fitBHSidePanel()}else MC.Faction($(this).attr("an"),this.id),$(this).closest("#BHSidePanel").length&&$.CloseBHSidePanel(1)}),$("."+Viewer.cTopTglClass+":not(.bh-wired)").addClass("bh-wired").on("click",function(t){var e;t.preventDefault(),t.stopPropagation(),e=[{html:$("<div class='"+Viewer.cSPNavClass+"'>"+$("."+Viewer.cMenuNavClass).prop("outerHTML").replace(Viewer.cWiredClass,"")+"</div>").prop("outerHTML"),_t:""}],MsgToUsr.Fside_pnl({icon_m:oDisplConstants.MENU_SPANEL_ICON_CLASS,label:oDisplConstants.NAV_SPANEL_LBL,items:e,startup:function(t){Viewer.FgetWireUp("mainmenu")(t)}})})},Fbreadcrumb:function(t,e){$("."+Viewer.cBCClass+":not(.bh-wired)").addClass("bh-wired").on("click","li",function(t){var e=$(this).index(),s=$("li",$(this).parent()).length;if($("[data-target]",$(this)).presence())return!1;$(this).parent().hasClass("bh-md-ddmenu")?e<s&&MC.Fload_module_p(s-e):0!=e&&e+1<s&&MC.Fload_module_p(s-e-1)})},Finput_masks:function(t,e){$(t+e+" .mask_number:not(.masked)").each(function(){return Viewer.FisAutoWire($(this))?($(this).addClass("masked"),isNoE($(this).attr("maxlength"))?isNoE($(this).attr("data-mask"))?void $(this).inputmask({mask:"9",repeat:10,greedy:!1,autoUnmask:!0}):($(this).inputmask({mask:$(this).attr("data-mask"),greedy:!1,autoUnmask:!0}),!0):($(this).inputmask({mask:"9",repeat:$(this).attr("maxlength"),greedy:!1,autoUnmask:!0}),!0)):null}),$(t+e+" .mask_decimal:not(.masked)").each(function(){if(!Viewer.FisAutoWire($(this)))return null;$(this).addClass("masked"),$(this).inputmask({alias:"decimal",groupSeparator:",",integerDigits:9,autoGroup:!0,digits:2,digitsOptional:!1,placeholder:"0.00",rightAlign:!0,autoUnmask:!0})}),$(t+e+" .mask_currency-left:not(.masked)").each(function(){if(!Viewer.FisAutoWire($(this)))return null;$(this).addClass("masked"),$(this).inputmask({prefix:"$ ",alias:"currency",integerDigits:9,groupSeparator:",",autoGroup:!0,autoUnmask:!0})})},Finput_anum:function(t,e){$(t+e+" .anumeric:not(.masked)").each(function(){if(!Viewer.FisAutoWire($(this)))return null;$(this).addClass("masked");var t=$(this).attr("data-a-sign");isNoE(t)?$(this).autoNumeric("init",{aSign:"$",mDec:"2",wEmpty:"zero"}):$(this).autoNumeric("init")})},Ft_spins:function(t,e){$(t+e+" .tspin:not(.bh-wired)").addClass("bh-wired").each(function(){var t=$(this).attr("tsmin"),e=$(this).attr("tsmax"),s=$(this).attr("tsstep"),a=$(this).attr("tsdec"),i=isNoE($(this).attr("tsround"))?"round":$(this).attr("tsround"),n=$(this).attr("tsclasses");$(this).TouchSpin({min:t,max:e,step:s,decimals:a,forcestepdivisibility:i,buttondown_class:n,buttonup_class:n})})},Fscroll_cont:function(t,e){$(t+e+" .bh-scrollcont:not(.bh-wired)").addClass("bh-wired").each(function(){var t=$(this).attr("data-bh-scrllc-sbcolor");t=isNoE(t)?"#ADCAD9":t,$(this).niceScroll({cursorcolor:t})})},Fdzone:function(t,e){$(t+e+" .bh-dzone:not(.bh-wired)").addClass("bh-wired").each(function(){let s={url:"",maxFilesize:2,paramName:"bh-file-up",addRemoveLinks:!0,maxFiles:4,acceptedFiles:null},a=$(this).attr("data-bh-dz-url"),i=$(this).attr("data-bh-dz-maxnf"),n=$(this).attr("data-bh-dz-maxfs"),o=$(this).attr("data-bh-dz-afiles"),r=$(this).attr("data-bh-dz-rlinks"),l=$(this).attr("data-bh-dz-pname");if(s.maxFiles=isNoE(i)?s.maxFiles:parseInt(i),s.maxFilesize=isNoE(n)?s.maxFilesize:parseInt(n),s.acceptedFiles=isNoE(o)?s.acceptedFiles:o,s.addRemoveLinks=isNoE(r)?s.addRemoveLinks:"true"==r,s.paramName=isNoE(l)?s.paramName:l,s.url=a,isNoE(a))return console.log("Url undefined for dzone"),!1;let d=new Dropzone(t+e+" #"+this.id,s);d.on("sending",function(t,e,s){let a=Gatherer.Fgather(MC.Ccur_mod,"std",this.id);$.each(deparam(a),function(t,e){s.append(t,e)}),s.append("_hdr",1)}),d.on("success",function(t,e){MC.Fprocess_FEA_REQ(e),MC.FMDE_action_values("C",{_ufid:e[1]._ufid})})})},Ffpond:function(t,e){$(t+e+" .bh-fpond:not(.bh-wired)").addClass("bh-wired").each(function(){$.fn.filepond.registerPlugin(FilePondPluginImagePreview),$(this).filepond()})},FNoUISlider:function(t,e){$(t+e+` .nuslider:not(.bh-wired):not([${Viewer.oFEAttr.AutoWireUp}])`).addClass("bh-wired").each(function(){let e,s=$(this).attr("data-range-start"),a=$(this).attr("data-range-end"),i=$(this).attr("data-range-ini"),n=$(this).attr("data-range-step"),o=$(this).attr("data-on-update"),r=$(this).attr("data-val-target"),l=$(this).attr("data-slider-type"),d=this;if(s=s&&s.indexOf(".")>-1&&"int"!=l?parseFloat(s):parseInt(s),a=a&&a.indexOf(".")>-1&&"int"!=l?parseFloat(a):parseInt(a),i=i&&i.indexOf(".")>-1&&"int"!=l?parseFloat(i):parseInt(i),n=n&&n.indexOf(".")>-1&&"int"!=l?parseFloat(n):parseInt(n),s=isNaN(s)?0:s,a=isNaN(a)?100:a,i=isNaN(i)?0:i,n=isNaN(n)?1:n,noUiSlider.create(this,{range:{min:[s],max:[a]},connect:[!0,!1],tooltips:[{to:function(t){return"<span>"+(t.toString().indexOf(".")>-1?t.toFixed(2):t)+"</span>"}}],start:[i],step:n}),isNoE(r)||(e=$(t+" #"+r).presence())&&this.noUiSlider.on("update",function(t,s){e.val(t[s])}),!isNoE(o)){let t=$(this).attr("an"),e=this.id;t&&this.noUiSlider.on("update",function(s,a){MC.Faction(t,e)})}this.noUiSlider.on("change",function(t,e){let s=$(d).attr("data-dyn-min"),a=$(d).attr("data-dyn-max"),i=s&&s.indexOf(".")>-1?parseFloat(s):parseInt(s),n=a&&a.indexOf(".")>-1?parseFloat(a):parseInt(a);!isNaN(i)&&t[e]<i?d.noUiSlider.set(i):!isNaN(n)&&t[e]>n&&d.noUiSlider.set(n)})})},Fgo_top:function(){$(".bh-go-top").click(function(){Viewer.scrollTo()})},Fdt_table:function(t,e){e+=e?".d_tbl":" .d_tbl",$(t+e+`:not(.bh-wired):not([${Viewer.oFEAttr.AutoWireUp}])`).each(function(){WireUp.Fdt_table_single(t,` #${this.id}`)})},Fdt_table_single:function(t,e){if(!$(t+e+" table").presence())return;let s=[],a=t+e,i="true"==$(a).attr("data-bh-b-details"),n=$(a).attr("data-bh-detcontid"),o=$(a).attr("hl-rows"),r=$(a).attr("data-bh-b-length"),l=$(a).attr("data-bh-ilength"),d=$(a).attr("data-bh-b-search"),c=$(a).attr("data-bh-b-pages"),h=$(a).attr("data-bh-b-sort"),p=$(a).attr("data-bh-isort"),u=$(a).attr("data-bh-b-info"),b="true"==$(a).attr("data-bh-b-actions"),f="true"==$(a).attr("data-bh-b-search-on-col"),_="true"==$(a).attr("data-bh-b-scrollx"),m="true"==$(a).attr("data-bh-b-responsive"),g="true"==$(a).attr("data-bh-b-autowidth"),C=$(a).attr("data-bh-b-searchoncol-compact"),v="true"==$(a).attr("f-sum"),E=$(a).attr("f-sum-def"),F=$(a).attr("data-bh-acontid"),w=$(a).attr("data-bh-ctypes"),N=$(a).attr("data-bh-datecols"),D=$(a).attr("data-bh-htmlcols"),y=$(a).attr("data-bh-colsresprio"),T=$(a).attr("data-bh-lang"),M=$(a).attr("data-bh-fbtns"),k=$(a).attr("data-bh-fbtns-classes"),S=$(a).attr("data-bh-search-classes"),U="true"==$(a).attr("data-bh-b-tbb"),A=$(a).attr("data-bh-micon"),R=$(a).attr("data-bh-srchicon"),x=b&&!isNoE(F)&&$(t+" #"+F).presence()?t+" #"+F:null,O=!i||isNoE(n)?null:t+" #"+n;o=!!isNoE(o)||"true"==o,r=!!isNoE(r)||"true"==r,l=isNoE(l)?10:parseInt(l),d=!!isNoE(d)||"true"==d,c=!!isNoE(c)||"true"==c,h=!!isNoE(h)||"true"==h,u=!!isNoE(u)||"true"==u,C=!!isNoE(C)||"true"==C,isNoE(T)&&(T="en");var B={responsive:m,autoWidth:g,iDisplayLength:l,bFilter:d,bPaginate:c,bSort:h,scrollX:_,dom:"frtip"},W=new Array;if(isNoE(M)||(s=M.split(",")),r?(B.lengthMenu=[[5,10,15,30],["5","10","15","30"]],s.unshift("pageLength")):B.bLengthChange=!1,s.length>0){s.indexOf("print")>-1&&!isNoE(oDTLanguage[T])&&(s.push(oDTLanguage[T].otherButtons.print),s.splice(s.indexOf("print"),1));let t=[];$.each(s,function(e,s){t.push({extend:s})}),B.buttons=[{extend:"collection",text:A,buttons:t}],B.dom="Bfrtip"}if(isNoE(oDTLanguage[T])||(B.language=oDTLanguage[T]),!isNoE(p)){var I=p.split(",");2==I.length&&(I[0]=parseInt(I[0]),B.aaSorting=new Array(I))}if(!isNoE(w)){let t=w.split("|");for(let e=0;e<t.length;e++){let s=t[e].split(",");2==s.length&&(s[0]=parseInt(s[0]),W.push({sType:s[1],aTargets:[s[0]]}))}}if(!isNoE(N)){let t=N.split("|");for(let e=0;e<t.length;e++){let s=t[e].split(",");2==s.length&&(s[0]=parseInt(s[0]),$.fn.dataTable.moment(s[1]),W.push({mRender:$.fn.dataTable.render.moment(s[1]),aTargets:[s[0]]}))}}if(!isNoE(D)){let t=D.split(",");for(let e=0;e<t.length;e++)t[e]=parseInt(t[e]),isNaN(t[e])||W.push({mRender:function(t,e,s){return $("<div/>").html(t).text()},aTargets:[t[e]]})}if(!isNoE(y)){let t=y.split("|");for(let e=0;e<t.length;e++){let s=t[e].split(",");2==s.length&&(s[0]=parseInt(s[0]),s[1]=parseInt(s[1]),W.push({responsivePriority:s[1],targets:[s[0]]}))}}let L=$(a+" tbody tr:first td").length;if(isNoE(x)||(W.push({bSortable:!1,aTargets:[L-1]}),isNoE($(x).attr(Viewer.oFEAttr.WireUpTags))||($(a+" tbody tr td:last-child .bh-wired").removeClass("bh-wired"),Viewer.FgetWireUp($(x).attr(Viewer.oFEAttr.WireUpTags))(t,e))),O){W.push({bSortable:!1,aTargets:[L-1]});var V=function(t,e){var s=t.fnGetData(e);return html_entity_decode(s[L-2])}}W.length>0&&(B.aoColumnDefs=W),f&&$(a+" table thead th:not(."+Viewer.cTTBColClass+"):not(.dtbl-det-col)").each(function(t){let e=C?$(this).text():"",s=C?"":$(this).text();$(this).addClass("input-icon"),$(this).html(`<div class="input-icon left"><i class="icon-search"></i><input type="text"  class="dataTables_col_filter" placeholder="${e}"/></div>${s}`),$("input",this).on("keyup change",function(){P.column(t).search()!==this.value&&P.column(t).search(this.value).draw()}).on("click",function(t){t.stopPropagation()})}),v&&!isNoE(E)&&(B.footerCallback=function(t,e,s,i,n){var o=this.api(),r=0,l=0,d=function(t){return"string"==typeof t?1*t.replace(/[\$,]/g,""):"number"==typeof t?t:0};$(a+" table tfoot th").each(function(){if(""!=$(this).html()){var t=o.column(l,{filter:"applied"}).data();switch(r=t.length>0?t.length>1?t.reduce(function(t,e){return d(t)+d(e)}):d(t[0]):0,r=parseFloat(r),$(this).attr("_clct")){case"csum":$(this).html("$"+number_format(r.toFixed(2),2));break;case"fsum":$(this).html(number_format(r.toFixed(2),2));break;case"isum":$(this).html(number_format(r.toFixed()));break;case"sum":$(this).html(number_format(r.toFixed(2)));break;default:$(this).html(number_format(r.toFixed(2),2))}}l++})});let P=$(a+" table").DataTable(B);$(a).addClass("bh-wired"),O&&(P.fnSetColumnVis(L-2,!1),$(a+" table tbody").on("click",".row-details",function(t){t.preventDefault(),t.stopPropagation();var e=$(this).parents("tr")[0],s=$(a+" table:first").dataTable();s.fnIsOpen(e)?($(this).html($(O+" .row-details-closed-state .btn").html()),$(this).attr("class",$(O+" .row-details-closed-state .btn").attr("class")),$(this).addClass("row-details-close").removeClass("row-details-open"),s.fnClose(e)):($(this).html($(O+" .row-details-open-state .btn").html()),$(this).attr("class",$(O+" .row-details-open-state .btn").attr("class")),$(this).addClass("row-details-open").removeClass("row-details-close"),s.fnOpen(e,V(s,e),"details"))})),o&&$(a+" table tbody").on("click","tr",function(t){var e=$(this);$(" > td",this).hasClass("details")&&(e=$(this).prev()),$(this).parent().parent().parent().hasClass("details")&&(e=$(this).parent().parent().parent().prev()),e.parent().add("tr",a).removeClass("tr-selected"),e.addClass("tr-selected"),e.closest("table").attr("row-sel",e.index()+1)}),isNoE(M)||isNoE(k)||$(a+" .dt-buttons .dt-button").addClass(k),isNoE(S)||$(a+" .dataTables_filter input").addClass(S),d&&!isNoE(R)&&$(a+" .dataTables_filter").prepend(R),WireUp.Faction_btns(t,e),U&&$(a+" table tbody").on("click","."+Viewer.cTBBClass+" > .btn",function(t){var e=$(this).closest("."+Viewer.cTTBColClass)[0],s=$(this).parent(),a=$("."+Viewer.cTRTBClass,e).clone(),i=this.id+"tbb";t.preventDefault(),"false"==$(this).attr(Viewer.oFEAttr.StopPropagation)&&t.stopPropagation(),s.append("<div id='"+i+"'><ul>"+a.html()+"</ul></div>"),$("ul",s).children().wrap("<li></li>"),$(".btn",s).removeClass("bh-wired bh-mtrlzd"),$("div",s).css("width",$("ul",s).css("width")),MC.onClickOut(i,".btn","."+Viewer.cTBCloseBClass,function(){$("#"+i).css("width","0").delay(200).queue(function(){$(this).remove()})},s.attr(Viewer.oFEAttr.TBCloseOnClick))})},Ftable:function(t,e){e=isNoE(e)?" .tbl":e,$(t+e).each(function(){if(!Viewer.FisAutoWire($(this)))return null;let s=$(this),a=isNoE(s.attr("data-bh-dyracthdr"))?"":s.attr("data-bh-dyracthdr");if(bHLR=s.attr("hl-rows"),nIRows=s.attr("data-n-init-rows"),bDyRows="true"==s.attr("dyrows"),cDyRows=s.attr("dyrows-cid"),cDRID=!bDyRows||isNoE(cDyRows)?null:t+" #"+cDyRows,bHLR=!!isNoE(bHLR)||"true"==bHLR,nIRows=isNoE(nIRows)?1:parseInt(nIRows),nIRows=isNaN(nIRows)?1:nIRows,bHLR&&$("table tbody",s).on("click","td",function(t){if(t.target!=this)return!1;let e=$(this).parent();$(" > td",e).hasClass("details")&&(e=e.prev()),e.parent().parent().parent().hasClass("details")&&(e=e.parent().parent().parent().prev()),$("tr",s).removeClass("tr-selected"),e.addClass("tr-selected"),e.closest("table").attr("row-sel",e.index()+1)}),cDRID){$("table thead th:last",s).after('<th class="bh-drows-act">'+a+"</th>"),$("table tbody",s).append($(cDRID+" .bh-drows-add").html()),$("table",s).attr("_bht_l",$("table tbody tr",s).length),$("table tbody",s).on("click",'.btn[class*="bh-drows-"]',function(a){a.preventDefault(),a.stopPropagation();let i=t+" #"+s.attr("dyrows-cid"),n=$("table",s).attr("_bht_l"),o=random_nid(),r=$(i+" .bh-drows-add").hasClass("detached");if($(this).hasClass("bh-drows-add")){let a=$(i+" .bh-drows-row table tbody").clone(),l='<tr class="detached-add"><td colspan="2">';if(r?($("td:last-of-type",a).after('<td class="bh-drows-act">'+$(i+" .bh-drows-del").html()+"</td>"),l+=$(i+" .bh-drows-add").html()+"</td></tr>"):$("td:last-of-type",a).after('<td class="bh-drows-act">'+$(i+" .bh-drows-del").html()+$(i+" .bh-drows-add").html()+"</td>"),Viewer.FReadyContainer(a,n+o),$("td",a).css({height:"0px"}).wrapInner('<div style="display:none;" />'),0==$("table tbody tr",s).length)$(this).remove(),$(".bh-drows-del",a).hide(),$("table tbody",s).append(a.html()),Viewer.FWireUpContainer(t+e+" #"+$("tr:first",a).attr("id")),$("table tbody tr:nth-last-of-type(1) td > div",s).slideDown(_BH_FESets.slide_speed),r&&($("table tbody tr:last-of-type",s).after(l),$("table tbody tr.detached-add [id]",s).each(function(){this.id=this.id+"-"+n+o}));else{let i=1;r?i=2:$(this).remove(),$(".bh-drows-del",s).show(),$("table tbody tr:nth-last-of-type("+i+")",s).after(a.html()),Viewer.FWireUpContainer(t+e+" #"+$("tr:first",a).attr("id")),$("table tbody tr:nth-last-of-type("+i+") td > div",s).slideDown(_BH_FESets.slide_speed)}s.attr("_bht_l",++n)}else $(this).closest("tr").find("td > div").slideUp(_BH_FESets.slide_speed,function(){$(this).parent().parent().remove();let e=s.attr("dyrows-del-cbck");isNoE(e)||isNoE(MC[e])||MC[e](t),$("table tbody .bh-drows-add",s).presence()||($("table tbody tr:last td:last-child .btn",s).after($(i+" .bh-drows-add").html()),$("table tbody tr:last td:last-child .bh-drows-add",s).attr("id","bh-drows-add"+n+o))}),2==$("table tbody tr[id]",s).length&&$("table tbody tr .bh-drows-del",s).hide()});for(let t=0;t<nIRows;t++)$(".bh-drows-add",s).trigger("click")}WireUp.Faction_btns(t,e)})},Fdatepickers:function(t,e){$(t+e+" .date-picker").each(function(){var t=$(this).attr("lang"),e=$(this).attr("starting"),s=$(this).attr("ending"),a=$(this).attr("format"),i={todayBtn:"linked",language:"en",autoclose:!0,todayHighlight:!0};isNoE(e)||(i.startDate=e),isNoE(s)||(i.endDate=s),isNoE(t)||(i.language=t),isNoE(a)||(i.format=a),$(this).datepicker(i)})},F3ma:function(t,e){if(jQuery().treema){isNoE(e)&&(e=" ");var s="C",a=$(t+e+".bh3ma").attr("data-bh3ma-source"),i=$(t+e+".bh3ma").attr("data-bh3ma-source-field"),n=$(t+e+".bh3ma").attr("data-bh3ma-schema-field");MC.Fget_mod_index(t)==MC.Iloading_mod_idx&&(s="L"),isNoE(a)&&(a=$(t+e+".bh3ma").attr("id"));var o=MC.FMDE_get_p(s,"ws_data");if(isNoE(o))return MsgToUsr.Fresult_msg(oRTConstants.NO_3MA_DATA,oRMConstants.NO_3MA_DATA),console.log("No ws_data for:"+t+e),!1;if(isNoE(o[a]))return MsgToUsr.Fresult_msg(oRTConstants.NO_3MA_DATA,oRMConstants.NO_3MA_DATA),console.log("No corresponding data for:"+a),!1;if(o=o[a].mxData,isNoE(o[1])||isNoE(o[1][i]))return MsgToUsr.Fresult_msg(oRTConstants.NO_3MA_DATA,oRMConstants.NO_3MA_DATA),console.log("No corresponding data for:"+i),!1;o[1][i]=JSON?JSON.parse(html_entity_decode(o[1][i])):$.parseJSON(html_entity_decode(o[1][i]));var r=isNoE(n)?{type:"array",items:{additionalProperties:!0,type:"object"}}:JSON?JSON.parse(html_entity_decode(o[1][n])):$.parseJSON(html_entity_decode(o[1][n])),l=$(t+e+".bh3ma").append($("<div></div>")).treema({schema:r,data:o[1][i]}),d={};l.build(),d["o3ma-"+i]=l,MC.FMDE_update(s,d),isNoE(l.getErrors())||(MsgToUsr.Fresult_msg(oRTConstants.ERROR_3MA_DATA,oRMConstants.ERROR_3MA_DATA),console.log(JSON.stringify(l.getErrors(),null,2)))}else console.log("3ma not loaded")},Fcalendar:function(t,e){if(jQuery().fullCalendar){if(MC.Fget_mod_index(t)==MC.Iloading_mod_idx)return!1;isNoE(e)&&(e=" ");var s=[],a=$(t+e+" .clend").attr("source"),i=MC.FMDE_get_p("C","ws_data");if(isNoE(i))return console.log("No ws_data for:"+t+e),!1;if(isNoE(i[a]))return console.log("No corresponding data for:"+a),!1;i[a].mxData.shift(),$.each(i[a].mxData,function(t,e){var a={};$.each(e,function(t,e){"allday"==t&&(t="allDay"),"true"!=e&&"false"!=e||(e="true"==e),a[t]=e}),s.push(a)});var n=new Date,o=(n.getDate(),n.getMonth(),n.getFullYear(),{});$(t+e+" .clend").width()<=500?($(t+e+" .clend").addClass("mobile"),o={left:"title, prev, next",center:"",right:"today,month,agendaWeek,agendaDay"}):($(t+e+" .clend").removeClass("mobile"),o={left:"title",center:"",right:"prev,next,today,month,agendaWeek,agendaDay"}),$(t+e+" .clend").fullCalendar("destroy"),$(t+e+" .clend").fullCalendar({disableDragging:!0,header:o,editable:!1,events:s})}},Fplots:function(t,e){},Ftogl_btns:function(t,e){$(t+e+" .basic-toggle-button").each(function(){var t=$(this).attr("lbl"),e=[oDisplConstants.TOGGLE_YES,oDisplConstants.TOGGLE_NO];if(!isNoE(t)){var s=t.split(",");isNoE(s[0])||isNoE(s[1])||(e=s)}var a=$(this).attr("stl"),i=["",""];if(!isNoE(a)){var n=a.split(",");isNoE(n[0])||isNoE(n[1])||(i=n)}"tall"==$(this).attr("height")?$(this).toggleButtons({label:{enabled:e[0],disabled:e[1]},style:{enabled:i[0]+" label-tall",disabled:i[1]+" label-tall"},height:100}):$(this).toggleButtons({label:{enabled:e[0],disabled:e[1]},style:{enabled:i[0],disabled:i[1]}})})},Fsw_btns:function(t,e){var s=[oDisplConstants.TOGGLE_YES,oDisplConstants.TOGGLE_NO];$(t+e+" .bh-sw-button:not(.bh-wired)").each(function(){var t=$(this).attr("data-bh-swblbl"),e=s;isNoE(t)||(e=t.split(","),(isNoE(e[0])||isNoE(e[1]))&&(e=s)),$(this).addClass("bh-wired").lc_switch(e[0],e[1])}),$(t+e).on("lcs-statuschange",".bh-sw-button",function(){var t=$(this).attr("an"),e=this.id;t&&MC.Faction(t,e)})},Fselection:function(t,e){$(t+e+" .icon-ok.control").click(function(t){t.stopPropagation(),$(this).hasClass("act")?($(this).removeClass("act"),$(this).removeClass("green-stripe")):($(this).addClass("act"),$(this).addClass("green-stripe"))}),$(t+e+"[an!=''] .dd3-content").click(function(){$(".dd-item-sel",$(this).parent().parent()).removeClass("dd-item-sel"),$(this).parent().addClass("dd-item-sel")}),WireUp.Faction_btns(t,e.substring(2))},Ffile_sel_btns:function(t,e){$(t+e).on("click.fileupload.data-api",'[data-provides="fileupload"]',function(t){var e=$(this);if(!e.data("fileupload")){e.fileupload(e.data());var s=$(t.target).is("[data-dismiss=fileupload],[data-trigger=fileupload]")?$(t.target):$(t.target).parents("[data-dismiss=fileupload],[data-trigger=fileupload]").first();s.length>0&&(s.trigger("click.fileupload"),t.preventDefault())}})},Faction_btns_ms:{btna:function(t,e,s){if(t.preventDefault(),"false"==$(this).attr(Viewer.oFEAttr.StopPropagation)&&t.stopPropagation(),!isNoE($(this).attr("source"))&&!isNoE($("#"+$(this).attr("source")).attr("minlength"))){var a=$("#"+$(this).attr("source")).val(),i=$("#"+$(this).attr("source")).attr("minlength");if(a.length<i)return void MsgToUsr.Fresult_msg(oRTConstants.STR_TOO_SHORT,oRMConstants.STR_TOO_SHORT)}isNoE($(this).attr("chkidr"))||!isNoE(MC.FMDE_get_p("C","cur_kv"))?("true"==$(this).attr("data-bh-ov-kv")&&MC.FMDE_update("C",{cur_kv:$(this).attr("idr")}),MC.Faction($(this).attr("an"),this.id)):MsgToUsr.Fresult_msg(oRTConstants.NO_SELECTION,oRMConstants.NO_SELECTION)},btnx:function(t,e,s){t.preventDefault(),"false"==$(this).attr(Viewer.oFEAttr.StopPropagation)&&t.stopPropagation();var a=$(this).attr("source");$(e+s+" #"+a).is("form[formval]")&&!$(e+s+" #"+a).valid()||MC.Faction($(this).attr("an"),this.id)},btns:function(t,e,s){t.preventDefault(),"false"==$(this).attr(Viewer.oFEAttr.StopPropagation)&&t.stopPropagation(),$("#"+$(this).attr("source")).valid()&&MC.Faction($(this).attr("an"),this.id)},btnm:function(t,e,s){t.preventDefault(),"false"==$(this).attr(Viewer.oFEAttr.StopPropagation)&&t.stopPropagation(),isNoE($(this).attr("idr"))||(MC.FMDE_insert(MC.Iloading_mod_idx),MC.FMDE_update(MC.Iloading_mod_idx,{cur_kv:$(this).attr("idr")})),"true"==$(this).attr("data-bh-ov-kv")&&MC.FMDE_update("C",{cur_kv:$(this).attr("idr")}),MC.Faction($(this).attr("an"),this.id)},btnc:function(t,e,s){t.preventDefault(),"false"==$(this).attr(Viewer.oFEAttr.StopPropagation)&&t.stopPropagation(),$(e+" #"+$(this).attr("source")).clearChanges()},btnca:function(t,e,s){t.preventDefault(),"false"==$(this).attr(Viewer.oFEAttr.StopPropagation)&&t.stopPropagation();var a=this,i=$(this).attr("data-bh-source"),n="";isNoE(i)||(n=$(e+" #"+i+" td:first").text(),(isNoE(n)||n.lenght<1)&&(n=$(e+" #"+i).text()),(isNoE(n)||n.lenght<1)&&(n=$(e+" #"+i).val())),(isNoE(n)||n.lenght<1)&&(n="ID: "+MC.FMDE_get_p("C","cur_kv")),MsgToUsr.Fconfirm(oDisplConstants[$(this).attr("data-bhact-catype")],n,function(t){t==oDisplConstants.BTN_YES&&MC.Faction($(a).attr("an"),a.id)})},btncx:function(t,e,s){t.preventDefault(),"false"==$(this).attr(Viewer.oFEAttr.StopPropagation)&&t.stopPropagation();var a=this;cL=$(e+" #"+$(this).attr("source")+" td:first").text(),(cL.lenght<1||isNoE(cL))&&(cL=$(e+" #"+$(this).attr("source")).text()),MsgToUsr.Fconfirm(oDisplConstants[$(this).attr("data-bhact-catype")],cL,function(t){t==oDisplConstants.BTN_YES&&MC.Faction($(a).attr("an"),a.id)})}},Faction_btns:function(t,e){$(t+e+` table tbody:not(.bh-wired):not([${Viewer.oFEAttr.AutoWireUp}])`).addClass("bh-wired").on("click","[id^='btn']:not(tr),[id^='btn'] td:not(."+Viewer.cTTBColClass+")",function(s){if($(this).is("button")){let a=this.id.substring(0,this.id.indexOf("-"));isNoE(a)||isNoE(WireUp.Faction_btns_ms[a])||WireUp.Faction_btns_ms[a].call(this,s,t,e)}else{let a=$(this).parent().attr("id"),i=isNoE(a)?"":a.substring(0,a.indexOf("-"));isNoE(i)||isNoE(WireUp.Faction_btns_ms[i])||WireUp.Faction_btns_ms[i].call($(this).parent()[0],s,t,e)}}),$(t+e+` table [id^='btn']:not(.bh-wired):not([${Viewer.oFEAttr.AutoWireUp}])`).addClass("bh-wired");var s=function(s){var a=this.id.substring(0,this.id.indexOf("-"));isNoE(a)||isNoE(WireUp.Faction_btns_ms[a])||WireUp.Faction_btns_ms[a].call(this,s,t,e)};$(t+e+` [id^='btna-']:not(.bh-wired):not([${Viewer.oFEAttr.AutoWireUp}])`).addClass("bh-wired").on("click",null,s),$(t+e+` [id^='btnx-']:not(.bh-wired):not([${Viewer.oFEAttr.AutoWireUp}])`).addClass("bh-wired").on("click",null,s),$(t+e+` [id^='btns-']:not(.bh-wired):not([${Viewer.oFEAttr.AutoWireUp}])`).addClass("bh-wired").on("click",null,s),$(t+e+` [id^='btnm-']:not(.bh-wired):not([${Viewer.oFEAttr.AutoWireUp}])`).addClass("bh-wired").on("click",null,s),$(t+e+` [id^='btnc-']:not(.bh-wired):not([${Viewer.oFEAttr.AutoWireUp}])`).addClass("bh-wired").on("click",null,s),$(t+e+` [id^='btnca-']:not(.bh-wired):not([${Viewer.oFEAttr.AutoWireUp}])`).addClass("bh-wired").on("click",null,s),$(t+e+` [id^='btncx-']:not(.bh-wired):not([${Viewer.oFEAttr.AutoWireUp}])`).addClass("bh-wired").on("click",null,s)},Finput_onevent:function(t,e,s){var a=$(s).attr("data-onev-source"),i=$(s).attr("data-onev-target"),n=$(s).attr("data-onev-an"),o=$(s).attr("data-onev-atype"),r=$(s).attr("name"),l=$(s).val(),d={};return isNoE(r)||(d[r]=l),a&&"button"==$(t+e+" #"+a).attr("type")?($(t+" #"+a).trigger("click"),!0):n?("m"==o?MC.FMDE_module_values("C",d):MC.FMDE_action_values("C",d),MC.Faction(n,s.id),!0):i?(MC.FMDE_action_values("C",d),MC.FreloadDE("C",i),!0):void 0},Finput_onenter:function(t,e){$(t+e+" .onenter").on("keydown",function(s){"13"==(s.keyCode?s.keyCode:s.which)&&(s.preventDefault(),WireUp.Finput_onevent(t,e,this))})},Finput_onchange:function(t,e){$(t+e+" .onchange").each(function(){let s="",a="radio"==$(this).attr("type");if(s=null==$(this).attr("live")?"change":"keyup",a){let s=$(this).attr("name");$(t+e+" [name='"+s+"']").on("change",function(){WireUp.Finput_onevent(t,e,this)})}else $(this).attr("_prVal",""),$(this).on(s,function(){let s=!isNoE($(this).attr("onchattr")),a=!1;if(s)a=$(this).attr($(this).attr("onchattr"))!=$(this).attr("_prVal");else{let t="checkbox"==$(this).attr("type");a=$(this).val()!=$(this).attr("_prVal")||t&&$(this).is(":checked")!=$(this).attr("_prVal")}a&&(WireUp.Finput_onevent(t,e,this),s?$(this).attr("_prVal",$(this).attr("onchattr")):$(this).attr("_prVal",$(this).val()))})})},Finput_oninput:function(t,e){$(t+e+" .oninput").on("input",function(){WireUp.Finput_onevent(t,e,this)})},Finput_onkdown:function(t,e){$(t+e+" .onkdown").on("keydown",function(s){WireUp.Finput_onevent(t,e,this)})},Finput_onkup:function(t,e){$(t+e+" .onkup").on("keyup",function(s){WireUp.Finput_onevent(t,e,this)})},Finput_onkpress:function(t,e){$(t+e+" .onkpress").on("keypress",function(s){WireUp.Finput_onevent(t,e,this)})},Ftabs_nav:function(t){$(t+" a[data-toggle='tab'] ").on("shown",function(t){MC.Fset_sec_current($(t.target).attr("href").substring(1))})},Ftabs_bs5:function(t){[].slice.call(document.querySelectorAll(".nav-tabs .nav-link")).forEach(function(t){let e=new bootstrap.Tab(t);t.addEventListener("click",function(t){t.preventDefault(),e.show()})})},Fsliders:function(t,e){var s={1:"Baja",2:"Normal",3:"Alta",4:"Urgente"},a={1:"success",2:"info",3:"warning",4:"important"};e=isNoE(e)?"":" #"+e,$(".slider-basic").slider(),$(t+e+" #slider-priority").slider({value:2,min:1,max:4,step:1,slide:function(e,i){$(t+" #slider-priority + .slider-value > span").attr("class","label label-"+a[i.value]).text(s[i.value])}}),$(t+" #slider-priority + .slider-value > span").attr("class","label label-"+a[$(t+" #slider-priority").slider("value")]).text(s[$(t+" #slider-priority").slider("value")])},Fselect2:function(t,e){$(t+e+" .sel2").each(function(){if(!Viewer.FisAutoWire($(this)))return null;let t=$(this).attr("placeholder"),e=$(this).attr("data-bhvalue-in"),s=isNoE($(this).attr("data-bhsearch-num"))?6:parseInt($(this).attr("data-bhsearch-num")),a="false"==$(this).attr("data-bhempty-sel"),i={placeholder:t,width:"style",minimumResultsForSearch:"false"==$(this).attr("data-b-bhsearch")?-1:s,allowClear:!a&&t};$(this).select2(i),isNoE(e)||($(this).select2("val",e,!0),$(this).val(e).trigger("change"))})},FMtrlSelect:function(t,e){$(t+e+" .msel").each(function(){var t=$(this).attr("placeholder"),e=($(this).attr("data-bhvalue-in"),"false"==$(this).attr("empty-el"));nSearch=null==$(this).attr("nosearch")?8:-1,oOp={placeholder:t,minimumResultsForSearch:nSearch,allowClear:!e},$(this).formSelect()})},Fdate_range:function(t,e){if($(t+e+" .drange").presence()){oDisplConstants.TODAY;var s={};s[oDisplConstants.TODAY]=[Date.today().toString("yyyy-MM-dd"),Date.today().toString("yyyy-MM-dd")],s[oDisplConstants.YESTERDAY]=[Date.today().add({days:-1}).toString("yyyy-MM-dd"),Date.today().add({days:-1}).toString("yyyy-MM-dd")],s[oDisplConstants.TOMORROW]=[Date.today().add({days:1}).toString("yyyy-MM-dd"),Date.today().add({days:1}).toString("yyyy-MM-dd")],s[oDisplConstants.LAST_7DAYS]=[Date.today().add({days:-6}).toString("yyyy-MM-dd"),Date.today().toString("yyyy-MM-dd")],s[oDisplConstants.LAST_29DAYS]=[Date.today().add({days:-29}).toString("yyyy-MM-dd"),Date.today().toString("yyyy-MM-dd")],s[oDisplConstants.THIS_MONTH]=[Date.today().moveToFirstDayOfMonth().toString("yyyy-MM-dd"),Date.today().moveToLastDayOfMonth().toString("yyyy-MM-dd")],s[oDisplConstants.LAST_MONTH]=[Date.today().moveToFirstDayOfMonth().add({months:-1}).toString("yyyy-MM-dd"),Date.today().moveToFirstDayOfMonth().add({days:-1}).toString("yyyy-MM-dd")],$(t+e+" .drange").each(function(){var e={},a=$(this),i=a.attr("btn-class"),n=isNoE(a.attr("data-bh-drange-lang"))?"EN":a.attr("data-bh-drange-lang");isNoE(a.attr("ranges"))||$.each(a.attr("ranges").split(","),function(t,a){isNoE(oDisplConstants[a])||isNoE(s[oDisplConstants[a]])||(e[oDisplConstants[a]]=s[oDisplConstants[a]])});var o,r,l=function(e,s){var i=e.format("MMMM D, YYYY"),n=s.format("MMMM D, YYYY"),o="",r={},l=a.attr("source"),d=a.attr("name"),c=a.attr("target"),h=a.attr("autarget"),p=a.attr("lang");isNoE(p)||(i=Viewer.FtranslateMonths(i,p),n=Viewer.FtranslateMonths(n,p)),o=i!=n?i+" - "+n:i,r[d]=e.format("YYYY-MM-DD")+"|"+s.format("YYYY-MM-DD"),isNoE(l)||("btnm"==MC.Faction_type(l)?MC.FMDE_module_values(MC.Fget_mod_index(t),r):MC.FMDE_action_values(MC.Fget_mod_index(t),r)),$("span",a).html()!=o&&($("span",a).html(o),a.attr("value",e.format("YYYY-MM-DD")+"|"+s.format("YYYY-MM-DD")),isNoE($("span",a).html())||isNoE(c)||isNoE(h)||$(MC.Cloading_cont_id).presence()||MC.FreloadDE("C",c))},d=a.attr("start-range");isNoE(d)||isNoE(oDisplConstants[d])||isNoE(s[oDisplConstants[d]])?(o=s[oDisplConstants.TODAY][0],r=s[oDisplConstants.TODAY][1]):(o=s[oDisplConstants[d]][0],r=s[oDisplConstants[d]][1]),$(this).daterangepicker({showDropdowns:!1,autoApply:!0,ranges:e,linkedCalendars:!1,startDate:o,endDate:r,showWeekNumbers:!1,minDate:"2000/01/01",maxDate:Date.today().add({years:2}).toString("yyyy-MM-dd"),buttonClasses:isNoE(i)?["btn blue-stripe"]:[i],locale:{format:"YYYY/MM/DD",separator:" a ",applyLabel:oDisplConstants.APPLY,cancelLabel:oDisplConstants.CANCEL,fromLabel:oDisplConstants.FROM,toLabel:oDisplConstants.TO,customRangeLabel:oDisplConstants.CUSTOM,daysOfWeek:oDisplConstants["DAYS_WEEK_"+n],monthNames:oDisplConstants["MONTHS_"+n],firstDay:1}},l),isNoE(d)||isNoE(oDisplConstants[d])||isNoE(s[oDisplConstants[d]])?l(moment(s[oDisplConstants.TODAY][0]),moment(s[oDisplConstants.TODAY][1])):l(moment(s[oDisplConstants[d]][0]),moment(s[oDisplConstants[d]][1]))})}},Ftime_pick:function(t,e){jQuery().timepicker&&($(t+e+" .timepicker-default").timepicker(),$(t+e+" .timepicker-24").timepicker({minuteStep:1,showSeconds:!0,showMeridian:!1,defaultTime:"value"}))},Fsearch_results:function(t,e){WireUp.Fscrollers(t,e),WireUp.Faction_btns(t,e)},Fsearch_results_small:function(t,e){WireUp.Faction_btns(t,e)},Fsearch_results_tbl:function(t,e){if($(t+e+" table").presence()){var s=$(t+e).attr("lang"),a={};isNoE(s)||isNoE(oDTLanguage[s])||(a.oLanguage=oDTLanguage[s]),$(t+e+" table").dataTable(a);var i="true"==$(t+e).attr("override_key");$(t+e+" table tbody:not(.bh-wired)").addClass("bh-wired").on("click","tr",function(s){$(this).parent().add("tr",t+e).removeClass("tr-selected"),$(this).addClass("tr-selected"),isNoE($(this).attr("an"))||(MC.Faction($(this).attr("an"),this.id),i&&MC.FMDE_update("C",{cur_kv:$(this).attr("idr")}))}),$(t+e+" table tr:not(.bh-wired)").addClass("bh-wired"),MC.FMDE_update("L",{cur_kv:null})}},Fscrollers:function(t,e){$(t+e+" .scroller").each(function(){$(this).slimScroll({size:"7px",color:"#a1b2bd",position:"right",height:$(this).attr("data-height"),alwaysVisible:"1"==$(this).attr("data-always-visible"),railVisible:"1"==$(this).attr("data-rail-visible"),disableFadeOut:!0})})},Fjq_form:function(t,e){$(".bar"),$(".percent"),$("#status"),$(t+" form").submit(function(){if($(t+" #imgtocrop .jcrop-holder").presence())return MsgToUsr.Fresult_msg(oRTConstants.SENT_ALREADY,oRMConstants.SENT_ALREADY),!1}),$(t+" form").ajaxForm({dataType:"json",beforeSend:function(){MsgToUsr.Fnotifier_hide()},uploadProgress:function(t,e,s,a){MsgToUsr.Falert_loading(null,"__formupld_")},success:function(t){isNoE(t.file[0])||(isNoE(t.file[0].error)?(MsgToUsr.Fresult_msg(oRTConstants.FSENT_SUCCESS,oRMConstants.FSENT_SUCCESS),s(t)):MsgToUsr.Fresult_msg(oRTConstants.FSENT_ERROR,oRMConstants.FSENT_ERROR+" "+t.file[0].error))},complete:function(t){MsgToUsr.Falert_loading("hide","__formupld_")}});var s=function(e){$(t+" #preview-pane");var s,a,i,n=$(t+" #preview-pane .preview-container"),o=($(t+" #preview-pane .preview-container img"),n.width()),r=n.height(),l=function(e){$(t+" form #x").val(e.x),$(t+" form #y").val(e.y),$(t+" form #w").val(e.w),$(t+" form #h").val(e.h)};$(t+" #imgtocrop img").Jcrop({onChange:l,onSelect:l,aspectRatio:o/r,addClass:"jcrop-light"},function(){var n=this.getBounds();a=n[0],i=n[1],s=this,$(t+" form #ow").val(a),$(t+" form #fn").val(e.file[0].name),a>200||i>200?s.setSelect([0,0,200,200]):s.disable(),s.setOptions({bgColor:"white",bgOpacity:.3})})}},Ffile_brw:function(t,e){console.log(t+e),$(t+e+" [id^='flb-'] ").elfinder({lang:"es",url:"assets/plugins/elfinder-2.0-rc1/php/connector.php",uiOptions:{toolbar:[["back","forward"],["reload"],["home","up"],["open","download"],["quicklook"],["search"],["view"]],tree:{openRootOnLoad:!0,syncTree:!0},navbar:{minWidth:150,maxWidth:500},cwd:{oldSchool:!1}},contextmenu:{navbar:["open","|","info"],cwd:["reload","back","|","info"],files:["getfile","|","open","quicklook","|","download","|","info"]},resizable:!1}).elfinder("instance")},Fvalid_form:function(t){$(t+" form").not("[formval]").each(function(){let e=$('[id^="bh-form-ilnot"]',$(this)).presence(),s={},a=$(this).attr("data-bh-fval-ignore");$("[data-bh-equalto]",this).each(function(){let e=$(this).attr("data-bh-eqtsource");!isNoE(e)&&$("#"+e,t).presence()?s[this.id]={equalTo:"#"+e}:console.log("equalTo source not specified/existent:"+e)}),isNoE(a)&&(a=":not(:visible):not(select)"),$(this).attr("formval","t").validate({rules:s,errorElement:"div",errorClass:"bh-help-inline",focusInvalid:!1,ignore:a,onfocusout:!1,invalidHandler:function(t,s){e?MsgToUsr.Fnotifier_show("error",oRMConstants.ERROR_FORM_VAL,{container:e.attr("id"),closable:!1}):MsgToUsr.Falert_growl({type:"error",content:oRMConstants.ERROR_FORM_VAL})},highlight:function(t){$(t).closest(".help-inline").removeClass("ok"),$(t).closest(".control-group").removeClass("success").addClass("error")},unhighlight:function(t){$(t).closest(".control-group").removeClass("error")},success:function(t){e&&MsgToUsr.Fnotifier_hide(e.attr("id")),t.addClass("valid").addClass("bh-help-inline ok").closest(".control-group").removeClass("error").addClass("success")}})})},Fportlet_tools:function(t){$(t+" .portlet .tools a.remove").click(function(){var t=$(this).parents(".portlet");t.next().hasClass("portlet")||t.prev().hasClass("portlet")?$(this).parents(".portlet").remove():$(this).parents(".portlet").parent().remove()}),$(t+" .portlet .tools a.reload").click(function(){var t=$(this).parents(".portlet");Viewer.blockUI(t),window.setTimeout(function(){Viewer.unblockUI(t)},1e3)}),$(t+" .portlet .tools").each(function(){if(!isNoE($(this).attr("types"))){var t=$(this).attr("types").split(","),e=this;$.each(t,function(t,s){switch(s){case"toggle":$(e).append('<div class="collapse">'+oDisplConstants.PORTLET_TCOLL_ICON+"</div>")}})}}),$(t).on("click",".bh-portlet .tools .toggle",function(){let t=$(this).closest(".bh-portlet").children(".body");$(this).hasClass("closed")?(t.slideDown(_BH_FESets.slide_speed),$(this).removeClass("closed").removeClass("rotated")):(t.slideUp(_BH_FESets.slide_speed),$(this).addClass("closed").addClass("rotated"))})},Ftooltips:function(t){$(t+" .bh-tooltip").each(function(){let t=$(this).attr("data-bh-ttip-sdelay");t=isNoE(t)?500:t,$(this).attr("data-tipped-options","showDelay: '"+t+"'")}),Viewer.bTTipsDelegated||(Viewer.isTouchDevice()?Tipped.delegate(t+" .bh-tooltip:not(.no-tooltip-on-touch)",{hideOnClickOutside:!0}):Tipped.delegate(t+" .bh-tooltip",{behavior:"mouse",hideOnClickOutside:!0}),Viewer.bTTipsDelegated=!0)},Ftippy:function(t){const e={name:"titleAttribute",defaultValue:!0,fn:()=>({onCreate(t){if(!t.props.titleAttribute)return;const e=t.reference.getAttribute("title");e?(t.setContent(e),t.reference.removeAttribute("title")):t.reference.textContent&&t.setContent(t.reference.textContent)}})},s={name:"readProperties",defaultValue:!0,fn:()=>({onCreate(t){t.props.readProperties&&("true"==t.reference.getAttribute("data-tippy-showoncreate")&&(t.setProps({showOnCreate:!0}),t.reference.removeAttribute("data-tippy-showoncreate")),"true"==t.reference.getAttribute("data-tippy-always")&&(t.setProps({trigger:"click",hideOnClick:!1}),t.reference.removeAttribute("data-tippy-always")))}})};Viewer.isTouchDevice()?tippy.delegate(t,{target:".bh-tooltip:not(.no-tooltip-on-touch)",hideOnClick:!0,plugins:[e,s],animation:"scale",duration:100,popperOptions:{strategy:"fixed"}}):tippy.delegate(t,{target:".bh-tooltip",hideOnClick:!0,plugins:[e,s],animation:"scale",duration:100,followCursor:"horizontal",popperOptions:{strategy:"fixed"}})},Fjbox:function(t){new jBox("Tooltip",{attach:t+" .btn",getContent:"title",delayOpen:500,delayClose:1e3})},Fstart_responsive:function(){var t=isNoE(_BH_FESets.resp_bps)?[320,600,993]:_BH_FESets.resp_bps;$(window).setBreakpoints({breakpoints:t}),$.each(t,function(t,e){$(window).bind("exitBreakpoint"+e,function(){Viewer.Fresponsive_el("exitBreakpoint",e)}),$(window).bind("enterBreakpoint"+e,function(){Viewer.Fresponsive_el("enterBreakpoint",e)})})},Ffancy_b:function(t,e){jQuery.fancybox&&$(t+e+" .fancybox-button:not(.bh-wired)").presence()&&$(t+e+" .fancybox-button:not(.bh-wired)").fancybox({groupAttr:"data-rel",prevEffect:"none",nextEffect:"none",closeBtn:!0,helpers:{title:{type:"inside"}}})},Fcarousel_slick:function(t,e){$(t+e+" .carsl-slick:not(.bh-wired)").addClass("bh-wired").each(function(){$(this).slick()})},Fcarousel_owl:function(t,e){e=isNoE(e)?" ":e;var s={items:10,itemsCustom:!1,itemsDesktop:[1199,8],itemsDesktopSmall:[980,8],itemsTablet:[768,6],itemsTabletSmall:!1,itemsMobile:[479,4],singleItem:!1,itemsScaleUp:!1,slideSpeed:200,paginationSpeed:800,rewindSpeed:1e3,autoPlay:!1,stopOnHover:!1,navigation:!1,navigationText:["prev","next"],rewindNav:!0,scrollPerPage:!1,pagination:!1,paginationNumbers:!1,responsive:!1,responsiveRefreshRate:200,responsiveBaseWidth:window,baseClass:"owl-carousel",theme:"owl-theme",lazyLoad:!0,lazyFollow:!0,lazyEffect:"fade",autoHeight:!1,jsonPath:!1,jsonSuccess:!1,dragBeforeAnimFinish:!0,mouseDrag:!0,touchDrag:!0,transitionStyle:!1,addClassActive:!1,beforeUpdate:!1,afterUpdate:!1,beforeInit:!1,afterInit:!1,beforeMove:!1,afterMove:!1,afterAction:!1,startDragging:!1,afterLazyLoad:!1};$(t+e+".carsl-owl.bh-wired").each(function(){$(this).data("owlCarousel").reinit(s)}),$(t+e+".carsl-owl:not(.bh-wired)").addClass("bh-wired").each(function(){$(this).owlCarousel(s)})},Fcarousel_owl2:function(t,e){e=isNoE(e)?" ":e;var s={items:10,autoWidth:!0,dots:!1,lazyLoad:!0,responsiveClass:!0};$(t+e+".carsl-owl2.bh-wired").each(function(){$(".sf-media-entry",$(this)).presence()&&($(this).owlCarousel(s),$(this).trigger("refresh.owl.carousel"))}),$(t+e+".carsl-owl2:not(.bh-wired)").addClass("bh-wired").each(function(){$(".sf-media-entry",$(this)).presence()&&$(this).owlCarousel(s)})},Fhtmled1:function(t,e){$(t+e+" .htmled1").each(function(){$(this).trumbowyg()})},Fhtmled2:function(t,e){$(t+e+" .htmled2").each(function(){SUNEDITOR.create(this.id,{buttonList:[["undo","redo"],["font","fontSize","formatBlock"],["paragraphStyle","blockquote"],["bold","underline","italic","strike","subscript","superscript"],["fontColor","hiliteColor","textStyle"],["removeFormat"],"/",["outdent","indent"],["align","horizontalRule","list","lineHeight"],["table","link","image","video","audio"],["fullScreen","showBlocks","codeView"],["preview","print"],["save","template"]]})})},Ffeather:function(t,e){if(!feather)return console.log("Code for feather seems to be missing"),!1;feather.replace()},Fflatpickr:function(t,e){$(t+e+" .flatpickr").each(function(){let t={mode:$(this).attr("data-s-picker-mode")};$(this).flatpickr(t)})},Fmtrlz:function(t,e){if(!Waves)return console.log("Code for mtrlz seems to be missing"),!1;$(t+e+" .waves-effect:not(.bh-mtrlzd)").addClass("bh-mtrlzd").each(function(){Waves.attach(this)}),$(t+e+" .dropdown-trigger:not(.bh-wired)").addClass("bh-wired").each(function(){let t="true"==$(this).attr("data-dd-cover-trigger"),e="true"==$(this).attr("data-dd-cons-width"),s="left"==$(this).attr("data-dd-alignment")?"left":"right";$(this).dropdown({hover:!1,alignment:s,constrainWidth:e,coverTrigger:t})}),$(t+e+" .mtrlz.datepicker:not(.bh-wired)").addClass("bh-wired").each(function(){$(this).datepicker({autoClose:!0,showClearBtn:!0,format:"yyyy/mm/dd",showMonthAfterYear:!0,defaultDate:new Date,i18n:{cancel:oDisplConstants.BTN_CANCEL,done:oDisplConstants.BTN_DONE,clear:oDisplConstants.BTN_CLEAR,months:oDisplConstants.MONTHS,monthsShort:oDisplConstants.MONTHS_SHORT,weekdays:oDisplConstants.DAYS_WEEK,weekdaysShort:oDisplConstants.DAYS_WEEK_SHORT,weekdaysAbbrev:oDisplConstants.DAYS_WEEK_INIT}})}),$(t+e+" .mtrlz.timepicker:not(.bh-wired)").addClass("bh-wired").each(function(){var t=$(this).attr("data-bh-dp24h");$(this).timepicker({autoClose:!0,showClearBtn:!0,twelveHour:!("true"==t),i18n:{cancel:oDisplConstants.BTN_CANCEL,done:oDisplConstants.BTN_DONE,clear:oDisplConstants.BTN_CLEAR}})}),M.updateTextFields()},Fmtrlz_tabs:function(t,e){$(t+e+" .tabs:not(.bh-wired)").addClass("bh-wired").each(function(){let t=$(this).attr("data-tabs-onshow"),e=$(this).attr("data-tabs-speed"),s="true"==$(this).attr("data-tabs-swipeable"),a=$(this).attr("data-tabs-swipewidth");$(this).tabs({duration:isNoE(t)?_BH_FESets.slide_speed:parseInt(e),onShow:isNoE(t)?null:t,swipeable:s,responsiveThreshold:isNoE(a)?"Infinity":parseInt(a)})})},Fmtrlz_chips:function(t,e){$(t+e+" .chips:not(.bh-wired)").addClass("bh-wired").each(function(){let t={},e=$(this).attr("data-ph1"),s=$(this).attr("data-ph2"),a="disabled"==$(this).attr("disabled"),i=isNoE($(this).attr(Viewer.oFEAttr.SkipLoadUp)),n={},o=[],r=Module.FCIDparentOf(this.id);if(r){let t=Module.FgetIndex("#"+r),e=MC.FMDE_get_p(t,"ws_data");if(e[this.id]&&e[this.id].mxData&&e[this.id].mxData[1]){let t=e[this.id].mxData[1];if(t.pos){let e={};for(var l=0;l<t.pos.length;l++)t.pos[l].name&&(e[t.pos[l].name]=null);n={data:e,limit:1/0,minLength:1}}if(t.cur&&i)for(l=0;l<t.cur.length;l++)t.cur[l].name&&o.push({tag:t.cur[l].name})}}t={data:o,placeholder:e,secondaryPlaceholder:s,autocompleteOptions:n},$(this).chips(t),a&&($("input",$(this)).remove(),$("i",$(this)).remove())})}},ViewerCl=function(){this.WireFs={},this.DEFs={},this.nCurrentBP=0,this.oFEAttr={ReloadReq:"data-bhfe-rld-r",ReloadTarget:"data-bhfe-rld-t",DataTarget:"data-bhfe-dtrgt",DataSource:"data-bhfe-dsrc",AutoBack:"data-bhfe-aback",CachedReq:"data-bhfe-cached",CachedTag:"data-bhfe-cache-tag",NtfrCID:"data-bhfe-ntfr-cid",NtfrLvl:"data-bhfe-ntfr-lvl",WireUpLoad:"data-bh-lwire",WireUpShow:"data-bh-swire",StopPropagation:"data-b-bheprop",TBCloseOnClick:"data-b-bhclonc",AutoWireUp:"data-b-bhautowire",SkipLoadUp:"data-b-bhnoloadup",WireUpTags:"data-bhfe-wrptgs"},this.oNTFR_TYPE={error:"1",warning:"2",success:"3",info:"4",0:"info",1:"error",2:"warning",3:"success",4:"info"},this.oNTFR_LVL={modal:"1",notifier:"2",growl:"3",0:"notifier",1:"modal",2:"notifier",3:"growl"},this.bDefaultMessagesOnActionDone=!0,this.bDefaultMessageOnCurrentActionDone=!0,this.cDfltNotifierCID="bh-ntfr-cont",this.cNotifierClass="bh-ntfr-item",this.cBckBtnClass="bh-bkbtn",this.cSideTglClass="bh-sdtgl",this.cSBClass="bh-psidebar",this.cMenuNavClass="bh-nav-menu",this.cMainNavID="bh-nav-sidebar",this.cMainTitleID="bh-pg-title",this.cTopTglClass="bh-sdtgl-top",this.cSideBCk="bh-sbclosed",this.cSPNavClass="bh-nav-sdpnl",this.cWiredClass="bh-wired",this.cClosedClass="closed",this.cBCClass="bh-breadcrumb",this.cTTBColClass="bh-ttb-col",this.cTRTBClass="bh-trtb",this.cTBBClass="bh-tbb",this.cTBCloseBClass="bh-tbbc",this.cDTTBBWrapClass="bh-dtbb-compact",this.cDTTBBClass="bh-dtbb",this.cDTTBBCloseBClass="bh-dtbbc",this.bTTipsDelegated=!1;var t=this,e={portool:WireUp.Fportlet_tools,gotop:WireUp.Fgo_top,mainmenu:WireUp.Fmain_menu,d_tbl:WireUp.Fdt_table,tbl:WireUp.Ftable,btn_act:WireUp.Faction_btns,slider:WireUp.Fsliders,formval:WireUp.Fvalid_form,tabs:WireUp.Ftabs_nav,bs5tabs:WireUp.Ftabs_bs5,toolt:WireUp.Ftooltips,tippy:WireUp.Ftippy,jbox:WireUp.Fjbox,ib_oenter:WireUp.Finput_onenter,ib_ochange:WireUp.Finput_onchange,ib_oninput:WireUp.Finput_oninput,ib_onkdown:WireUp.Finput_onkdown,ib_onkup:WireUp.Finput_onkup,ib_onkpress:WireUp.Finput_onkpress,scroller:WireUp.Fscrollers,srchrs:WireUp.Fsearch_results,srchrs_sm:WireUp.Fsearch_results_small,srchrs_addr:WireUp.Fsearch_results_small,srchrs_t:WireUp.Fsearch_results_tbl,fu_btn:WireUp.Ffile_sel_btns,jform:WireUp.Fjq_form,toglb:WireUp.Ftogl_btns,swb:WireUp.Fsw_btns,selection:WireUp.Fselection,fileb:WireUp.Ffile_brw,drange:WireUp.Fdate_range,tpick:WireUp.Ftime_pick,img_fb:WireUp.Ffancy_b,inv:WireUp.Finv,inmsk:WireUp.Finput_masks,anum:WireUp.Finput_anum,plots:WireUp.Fplots,sel2:WireUp.Fselect2,msel:WireUp.FMtrlSelect,tspins:WireUp.Ft_spins,datep:WireUp.Fdatepickers,clends:WireUp.Fcalendar,scrollc:WireUp.Fscroll_cont,dzone:WireUp.Fdzone,fpond:WireUp.Ffpond,bh3ma:WireUp.F3ma,nuslider:WireUp.FNoUISlider,mtrlz:WireUp.Fmtrlz,htmled1:WireUp.Fhtmled1,htmled2:WireUp.Fhtmled2,feather:WireUp.Ffeather,flatpickr:WireUp.Fflatpickr,mtrlz_tabs:WireUp.Fmtrlz_tabs,mtrlz_chips:WireUp.Fmtrlz_chips,"carsl-slick":WireUp.Fcarousel_slick,"carsl-owl":WireUp.Fcarousel_owl,"carsl-owl2":WireUp.Fcarousel_owl2};this.FgetWireUp=function(t){return isNoE(this.WireFs[t])?isNoE(e[t])?(console.log("Unmapped 'start-mod_el' function:"+t),function(){}):e[t]:this.WireFs[t]},this.FsetWireUp=function(t,s){return isNoE(e[t]),e[t]=s,!0},this.Fstart_app=function(){WireUp.Fstart_responsive(),MC.Bapp_de_init&&$("[id^='dye-'] ").each(function(t){let e=(this.id+","+$("#"+this.id).attr(Viewer.oFEAttr.WireUpTags)).split(","),s=MC.oAActions[e[1]];if(isNoE(s))return MsgToUsr.Fresult_msg(oRTConstants.ERROR_MOD_ACTION,oRMConstants.ERROR_MOD_ACTION),console.log("Unmapped app action: "+e[1]),!0;RemoteCall.Fbg_ws({command:s,tgs:e,fcomplete:function(){Viewer.FWireDE("",[null,null,e[2]])}}),parseInt($("#"+this.id).attr("uinterval"))>0&&(MC.Cron[this.id]={f:function(){RemoteCall.Fbg_ws({command:s,tgs:e,fcomplete:function(){Viewer.FWireDE("",[null,null,e[2]])}})},t:6e4*parseInt($("#"+this.id).attr("uinterval"))},MC.FCron())}),Module.Fload_dep("body",Module.Fstart),$("."+this.cBckBtnClass).on("click",function(){"disabled"!=$(this).attr("disabled")&&MC.Fload_module_p()}),"true"==Cookies.get(this.cSideBCk)&&$("."+this.cSBClass).addClass(this.cClosedClass),$("."+this.cSideTglClass).on("click",function(){$("."+t.cSBClass).toggleClass(t.cClosedClass),Cookies.set(t.cSideBCk,$("."+t.cSBClass).hasClass(t.cClosedClass))}),WireUp.Fbreadcrumb()},this.Fload_mod_el=function(t){const e=$("["+this.oFEAttr.WireUpShow+"]",$(t)).attr(this.oFEAttr.WireUpShow);return isNoE(e)||Viewer.FWireUpContainer(t,e.split(",")),!0},this.FWireDE=function(t,e){isNoE(e[2])?console.log("[FWireDE]Incomplete tags in target for wiring:"+e.join(",")):(isNoE(e[0])?(console.log("[FWireDE]Unspecified id in target for wiring:"+e.join(",")),e[0]=""):e[0]=" #"+e[0],this.FgetWireUp(e[2])(t,e[0]))},this.FReadyContainer=function(t,e){if(!t)return!1;let s=!1;return"object"==typeof t?s=!0:t=$(t),$(t).find("*").each(function(){this.id&&isNoE($(this).attr("name"))&&$(this).attr("name",this.id.replace(/-$/,""));let t=parseInt($(this).attr("data-rid")),s=isNaN(t)?MC.Cmodule_suffix:MC.Cmodule_suffix+"-"+t,a=new RegExp(`-${s}$`,"g"),i=new RegExp(`-${s},`,"g");$.each(this.attributes,function(t,s){if((s.value.match(/-$/)||s.value.indexOf("-,")>0)&&(s.value=s.value.replace(/ /g,"").replace(/-,/g,`-${MC.Cmodule_suffix},`).replace(/-$/g,`-${MC.Cmodule_suffix}`)),s.value.match(a)||s.value.indexOf(i)>0)return s.value=s.value.replace(i,`-${MC.Cmodule_suffix}-${e},`).replace(a,`-${MC.Cmodule_suffix}-${e}`),!0}),$(this).attr("data-rid",e)}),$(".bh-towire:first [data-b-bhautowire]",t).each(function(){$(this).removeAttr(Viewer.oFEAttr.AutoWireUp)}),!s||t},this.FWireUpContainer=function(t,e){let s="";if(isNoE(e)){if(s=$(t).attr(this.oFEAttr.WireUpTags),isNoE(s))return console.log("[FWireUpContainer]No wire tags"+t),!1;e=s.split(",")}return $.each(e,function(e,s){Viewer.FgetWireUp(s)(t,"")}),!0},this.FupdateDE=function(t,e,s,a){if(!isNoE(this.DEFs[s]))return this.DEFs[s](e,t,a);if(!$(e+" #"+t).presence())return console.log("Unexistent DE: "+e+" #"+t),!1;var i="";switch(s){case"clends":if(a[0]._nRec>0){var n=$(e+" #"+t).attr("remote");if(!isNoE(n)){var o=$(e+" #"+n).attr("an"),r=$(e+" #"+n).attr("anE"),l=$(e+" #"+n).attr("anD");$(e+" #"+n).attr("anD");i='<div class="scroller" data-height="290px" data-always-visible="1" data-rail-visible="0"><ul class="ver-inline-menu tabbable margin-bottom-10">',a.shift();var d="";$.each(a,function(t,e){if(d==e.title)return!0;if(d=e.title,0==e.status){if(isNoE(r))s="";else var s='<button id="btnm-e-'+n+e.id+'" idr="'+e.id+'" an="'+r+'" target="'+n+'" class="btn blue" type="button"><i class="icon-pencil"></i>&nbsp; </button>';if(isNoE(l))a="";else var a='<button id="btnca-d-'+n+e.id+'" atype="ACTION_DELETE" source="btnm-r-'+n+e.id+'" idr="'+e.id+'" an="'+l+'" target="nd-'+n+e.id+'" class="btn red" type="button"><i class="icon-trash"></i>&nbsp; </button>'}else{var c="";2==e.status&&(c='<button class="btn green" type="button"><i class="icon-ok"></i>&nbsp; </button>'),1==e.status&&(c='<button class="btn green" type="button"><i class=""></i>&nbsp;In progress </button>')}i+='<li id="nd-'+n+e.id+'" class=""><span class="span8"><a class="span12" id="btnm-r-'+n+e.id+'" idr="'+e.id+'" an="'+o+'" target="'+n+'" href="#"><i class="icon-hand-right"></i>'+e.title+'</a></span><span class="btn-group">'+c+s+a+"</span></li>"}),i+="</ul></div>",$(e+" #"+n).html(i)}}break;case"hdr_ddown":a[0]._nRec>0&&(isNoE(a[1].items)||(i=this.Fcreate_list(a[1].items)),this.FDDownContent(i,a[1].total,t));break;case"pnl_tasks":if(a[0]._nRec>0){a.shift();var c=new Array;$.each(a,function(t,e){e.prcnt=e.prcnt<0?100:e.prcnt;var s="",a="bar",i=e.status;switch(e.status){case"-1":s="progress progress-danger",i=oDisplConstants.TASK_ERR;break;case"0":s="progress",a="",i=oDisplConstants.TASK_PEN;break;case"1":s="progress progress-striped active",i=oDisplConstants.TASK_RUN;break;case"2":s="progress progress-success",i=oDisplConstants.TASK_END;break;default:s="progress progress-warning"}c.push({html:'<div class="progress-cont"><div class="'+s+'"><div class="'+a+'" style="width: '+e.prcnt+'%;"></div></div></div>',text:e.text+" ["+i+"]"})}),MsgToUsr.Fside_tasks(c,!0)}else MsgToUsr.Fside_tasks([{text:oDisplConstants.TASK_NULL}],!0);break;case Viewer.cMainTitleID:isNoE(a[1].mod_name)&&isNoE(a[1].mod_des)?$("#"+t).slideUp(_BH_FESets.slide_speed):$("#"+t).hide().html("").append(a[1].mod_name+"&nbsp;&nbsp;<small>"+a[1].mod_des+"</small>").fadeIn();break;case"srchrs_sm":if(a[0]._nRec>0){o=$(e+" #"+t).attr("an"),r=$(e+" #"+t).attr("anE"),l=$(e+" #"+t).attr("anD");i='<div class="scroller" data-height="290px" data-always-visible="1" data-rail-visible="0"><ul class="ver-inline-menu tabbable margin-bottom-10">',a.shift(),$.each(a,function(e,s){if(isNoE(r))a="";else var a='<button id="btnm-e-'+t+s.i+'" idr="'+s.i+'" an="'+r+'" target="'+t+'" class="btn blue" type="button"><i class="icon-pencil"></i></button>';if(isNoE(l))n="";else var n='<button id="btnca-d-'+t+s.i+'" atype="ACTION_DELETE" source="btnm-r-'+t+s.i+'" idr="'+s.i+'" an="'+l+'" target="nd-'+t+s.i+'" class="btn red" type="button"><i class="icon-trash"></i></button>';i+='<li id="nd-'+t+s.i+'" class=""><span class="span8"><a class="span12" id="btnm-r-'+t+s.i+'" idr="'+s.i+'" an="'+o+'" target="'+t+'" href="#"><i class="icon-hand-right"></i>'+s.d+'</a></span><span class="btn-group">'+a+n+"</span></li>"}),i+="</ul></div>"}$(e+" #"+t).html(i);break;case"srchrs_tabbed":if(a[0]._nRec>0){o=$(e+" #"+t).attr("an");i='<div class="tabbable tabbable-custom"><ul class="nav nav-tabs"><li class="active"><a href="#tab_1_1" data-toggle="tab">Resultados &nbsp; <span class="label label-success"> &nbsp;&nbsp; '+a[0]._nRec+' &nbsp;</span></a></li></ul><div class="tab-content"><div class="tab-pane active" id="tab_1_1"><div class="scroller" data-height="290px" data-always-visible="1" data-rail-visible="0"><ul class="ver-inline-menu tabbable margin-bottom-10">',a.shift(),$.each(a,function(t,e){$.each(e,function(t,e){i+='<li class=""><a id="btnm-srchrs-" an="'+o+'" href="#"><i class="icon-eye-open"></i>'+e+"</a></li>"})}),i+="</ul></div></div></div></div>"}$(e+" #"+t).html(i);break;case"srchrs_t":case"d_tbl":case"tbl":let y=a[1]&&a[1]._rows?a[0]._nRows:a[0]._nRec,T=e+" #"+t,k=$(T),S=!isNoE(k.attr("tabbed"));if(y>0&&"object"===$.type(a[1])){a.shift();let n=k.attr("atype"),o="true"==k.attr("data-bh-b-actions"),r=k.attr("data-bh-acontid"),l=k.attr("data-bh-acthds"),d=k.attr("data-bh-acolhead"),c=k.attr("data-bh-classes"),w=k.attr("data-bh-b-class_over"),N="true"==k.attr("data-bh-b-details"),D=k.attr("data-bh-detcontid"),M="true"==k.attr("data-bh-b-override-kv"),U="true"==k.attr("data-bh-b-acthds-foot"),A="true"==k.attr("f-sum"),R=k.attr("f-sum-def"),x=k.attr("f-sum-type"),O=k.attr("an"),B=k.attr("data-bh-itarget"),W=k.attr("columns"),I=k.attr("data-bh-attrcol"),L="true"==k.attr("data-bh-b-tbb");if(isNoE(W))h=null;else var h=W.split(",");var p="idr,bmr,isbtn,an",u=(p=isNoE(I)?p:p+","+I,!o||isNoE(r)?null:e+" #"+r),b=!N||isNoE(D)?null:e+" #"+D,f={row_attr:p.split(","),details_cont:b,actions_cont:u,actions_header:d,filter:h,classes:c,classes_over:"true"==w,tbb:L};if(isNoE(u)||isNoE(r)||$(e+" #"+r).presence()||(console.log("Actions container not found:"+f.actions_cont),f.actions_cont=u=null),A&&!isNoE(R)){var _=R.split(",");if("field"==x){var m={};$.each(_,function(t,e){var s=e.split("|");m[s[0]]=s[1]})}else{m=[];$.each(_,function(t,e){m.push(e)})}f.footer_totals=A,f.footer_totals_def=m,f.footer_totals_type=x}if(i+=this.FjsonToTable(isNoE(a[0]._rows)?a:a[0]._rows,f),S){var g='<div class="tabbable tabbable-custom"><ul class="nav nav-tabs"><li class="active"><a href="#tab_1_1" data-toggle="tab">'+oDisplConstants.SRCHR_TAB_LBL+' &nbsp; <span class="label label-success"> &nbsp;&nbsp; '+y+' &nbsp;</span></a></li></ul><div class="tab-content"><div class="tab-pane active" id="tab_1_1">';i=g+i+"</div></div></div>"}if("tbl"!=s)if($(T+" table").presence())$(T+" table").dataTable().fnDestroy(!0),k.removeClass("bh-wired");if(k.html(i),!isNoE(l)){var C=l.split("|");$.each(C,function(t,s){var a=s.split(","),i=a[0],n=$(e+" #"+a[1]).html().replace(/\b(id|name)="(.[^"]+)"/g,'$1="$2'+i+'"'),o=U?"":"thead ";i<0?$(T+" table "+o+"th:nth-last-child("+-1*i+")").html($(T+" table th:nth-last-child("+-1*i+")").html()+n):$(T+" table "+o+"th:nth-child("+i+")").html($(T+" table th:nth-last-child("+i+")").html()+n)})}var v=0,E="",F=isNoE(O)?[]:O.split(",");$(T+" table tr").each(function(){$(".btn",this).each(function(){$(this).attr("id",$(this).attr("id")+v)}),isNoE($(this).attr("bmr"))?($(".btn",this).attr("idr",$(this).attr("idr")),$("input",this).attr("idr",$(this).attr("idr"))):($(".btn",this).attr("idr",$(this).attr("bmr")),$("input",this).attr("idr",$(this).attr("bmr"))),E="1"!=$(this).attr("isbtn")?"nbtn":isNoE(n)?"nbtn":"btn"+n,$(this).attr("id",E+"-"+t+"-"+v++),$(this).attr(Viewer.oFEAttr.ReloadTarget,B),$(this).attr("data-bh-ov-kv",M),F.length>0&&!isNoE($(this).attr("an"))&&!isNoE(F[parseInt($(this).attr("an"))])?$(this).attr("an",F[parseInt($(this).attr("an"))]):F.length>0&&!isNoE(F[0])&&$(this).attr("an",F[0]),$(".btn[data-bh-source],input",this).attr("data-bh-source",this.id)}),$(T+" table").attr("id",t+$(T+" table").attr("id"))}else{if(i+=oDisplConstants.EMPTY_SEARCH_RESULT,S){g='<div class="tabbable tabbable-custom"><ul class="nav nav-tabs"><li class="active"><a href="#tab_1_1" data-toggle="tab">'+oDisplConstants.SRCHR_TAB_LBL+' &nbsp; <span class="label label-success"> &nbsp;&nbsp; '+y+' &nbsp;</span></a></li></ul><div class="tab-content"><div class="tab-pane active" id="tab_1_1">';i=g+i+"</div></div></div>"}if("tbl"!=s)if($(e+" #"+t+" table").presence())$(e+" #"+t+" table").dataTable().fnDestroy(!0);$(e+" #"+t).html(i)}break;case"form":a[0]._nRec>0&&(a.shift(),$(e+" #"+t+" input").each(function(){let t=$(this).attr("name");switch($(this).attr("type")){case"checkbox":isNoE(a[0][t])?$(this).attr("checked",!1):$(this).attr("checked","1"==a[0][t]);break;case"radio":isNoE(a[0][t])||a[0][t]!=$(this).val()||$(this).attr("checked","checked");break;default:isNoE(a[0][t])?$(this).attr("value",""):$(this).attr("value",html_entity_decode((a[0][t]+"").replace("000-00-00","")))}}),$(e+" #"+t+" select").each(function(){let t=$(this).attr("name");isNoE(a[0][t])?$(this).attr("value",""):($(this).attr("value",a[0][t]),$(this).attr("data-bhvalue-in",a[0][t]))}),$(e+" #"+t+" textarea[id]").each(function(){let t=$(this).attr("name");isNoE(a[0][t])?$(this).html(""):$(this).html(html_entity_decode(a[0][t])),M&&M.textareaAutoResize($(this))}),$(e+" #"+t+" p[id]").each(function(){let t=$(this).attr("name");isNoE(a[0][t])?$(this).html(""):$(this).html(html_entity_decode(a[0][t]))}),$(e+" #"+t+" [id]:header").each(function(){let t=$(this).attr("name");isNoE(a[0][t])?$(this).html(""):$(this).html(html_entity_decode(a[0][t]))}),$(e+" #"+t+" span[id]").each(function(){let t=$(this).attr("name");isNoE(a[0][t])?$(this).html(""):$(this).html(html_entity_decode(a[0][t]))}),$(e+" #"+t+" img[id]").each(function(){let t=$(this).attr("name");isNoE(a[0][t])?$(this).attr("src",""):$(this).attr("src",html_entity_decode(a[0][t]))}),$(e+" #"+t+" td[id]").each(function(){let t=$(this).attr("name");isNoE(a[0][t])?$(this).html(""):$(this).html(html_entity_decode(a[0][t]))}),$(e+" #"+t+" .multi-sel[id]").each(function(){if(!isNoE(a[0][this.id])){var t=a[0][this.id].split("|");$("button",$(this)).each(function(){t.indexOf($(this).attr("val"))>=0&&$(this).addClass("active")})}}));break;case"img":$(e+" #"+t+" img").attr("src",a[1].isrc+"?_="+(new Date).getTime());break;case"selection":if(a[0]._nRec>0){i='<ol class="dd-list">';a.shift();var w="litem-",N="";isNoE($(e+" #"+t).attr("an"))||(w="btnm-lidet-",N=$(e+" #"+t).attr("an")),$.each(a,function(t,e){var s="";$.each(e,function(t,e){"dd-"==t.substring(0,3)&&(s+=t+'="'+e+'" ')}),i+='<li id="'+w+e.i+'" an="'+N+'" class="dd-item dd3-item" idr="'+e.i+'" '+s+'><div class="dd3-content"><div class="text-cont">'+e.d+'</div><i class="icon-ok unsel unsel-striped control"></i></div></li>'}),i+="</ol>"}else i=oDisplConstants.EMPTY_RECORD_SET;$(e+" #"+t).html(i);break;case"cb":i="";var D="false"==$(e+" #"+t).attr("empty-el");a[0]._nRec>0&&(a.shift(),Object.values(a).forEach(t=>{let e=[];isNoE(t.d)&&(t.d=t.t),Object.entries(t).forEach(t=>{const[s,a]=t;"d"!=s&&"t"!=s&&e.push("data-"+s+'="'+a+'"')}),i+='<option value="'+t.d+'" '+e.join(" ")+">"+t.t+"</option>"}),D||(i="<option></option>"+i)),$(e+" #"+t).html(i);break;case"img_fb":if(a[0]._nRec>0){a.shift();i="";$(e+" #base-url").html(a[0].burl+"/"),$.each(a[0].imgs,function(t,e){$.each(e,function(t,e){i+='<div class="span4 "><div class="control-group"> <label class="control-label">'+t+'</label><div class="controls"><div class="item"><a class="fancybox-button" data-rel="fancybox-button" title="'+t+'" href="'+e+"?_="+(new Date).getTime()+'"><div class="zoom"><img src="'+e+"?_="+(new Date).getTime()+'" alt="'+t+'" /><div class="zoom-icon"></div></div></a></div> </div></div></div>'})})}$(e+" #"+t).html(i);break;default:console.log("Unmapped 'DEFs' method:"+s)}},this.FDDownContent=function(t,e,s){if(e>0){var a="<li><p>"+oDisplConstants.ITEMS_REMAIN.replace("#",e)+"</p></li>";$("#"+s+" .badge").html(e),a+=t+(e>4?"<li><p>"+oDisplConstants.MORE_ITEMS+"</p></li>":"")}else{a="<li><p>"+oDisplConstants.NO_ITEMS+"</p></li>";$("#"+s+" .badge").html("")}$("#"+s+" ul").html(a)},this.Fcreate_list=function(t){var e="";return $.each(t,function(t){e+='<li><a href="#"><span class="label label-important"><i class="'+this.icon_class+'"></i></span>'+this.descript+' <span class="time">'+this.ts+"</span></a></li>"}),e},this.Fupdate_nav=function(t){var e=$(".bh-nav-main .has-sub.open").filter(function(){return!$('[an="'+t+'"]',this).presence()}),s=$(".bh-nav-main [an='"+t+"']").closest(".has-sub");$(".bh-nav-main .active").removeClass("active"),isNoE(e)||($("a .arrow",e).removeClass("open"),$(".sub-menu",e).slideUp(_BH_FESets.slide_speed),$(e).removeClass("active"),$(e).removeClass("open")),$(".bh-nav-main [an='"+t+"']").addClass("active"),s&&($(s).addClass("active open"),$("a .arrow",s).addClass("open"))},this.Fresponsive_el=function(t,e){switch(t=isNoE(t)?"enterBreakpoint":t,t+=e=isNoE(e)?this.nCurrentBP:e,this.nCurrentBP=e,t){case"enterBreakpoint320":case"enterBreakpoint480":break;case"enterBreakpoint600":$("."+this.cSBClass).addClass(this.cClosedClass);break;case"enterBreakpoint993":case"enterBreakpoint1200":"false"==Cookies.get(this.cSideBCk)&&$("."+this.cSBClass).removeClass(this.cClosedClass)}},this.FjsonToForm=function(t,e){null==e&&(e=!1);var s="";return $.each(t,function(t,a){if("[object Object]"==a)s+="string"==typeof t?"<fieldset><legend>"+t.capitalize()+"</legend>"+this.FjsonToForm(a,!0)+"</fieldset>":this.FjsonToForm(a,!0);else if(0!=t.indexOf("_")){if(0==t.indexOf("date")||t.indexOf("Date")>=0)a=new Date(a).toString();cContainerClass=e?"_50":"",cLabelClass=e?"":"inline-small-label",s+='<div class="'+cContainerClass+'"><p class="'+cLabelClass+'"><label for="'+t+'">'+t.capitalize()+'</label><input id="'+t+'" type="text" value="'+a+'" /></p></div>'}}),s},this.FjsonToTable=function(e,s){isNoE(s.filter)&&(s.filter=[]),isNoE(s.row_attr)&&(s.row_attr=[]),isNoE(s.nested)&&(s.nested=!1),isNoE(s.classes_over)&&(s.classes_over=!1),isNoE(s.classes)?s.classes="bh-table ":s.classes_over||(s.classes="bh-table "+s.classes),isNoE(s.footer_totals)&&(s.footer_totals=!1),isNoE(s.footer_totals_def)&&(s.footer_totals_def={}),isNoE(s.footer_totals_type)&&(s.footer_totals_type="col"),isNoE(s.tbb)&&(s.tbb=!1);let a,i,n="",o="",r="",l=[],d="",c=0,h=0;return s.actions_cont&&(a=$("."+t.cTBBClass,$(s.actions_cont)).presence(),i=$(s.actions_cont).clone(),a=a?a.clone():a,i.children("."+t.cTBBClass).remove()),$.each(e,function(e){let d="",p="",u=!1,b="";if($.each(this,function(t,e){(s.filter.indexOf(t)>=0||isNoE(s.filter))&&(s.row_attr.indexOf(t)<0||isNoE(s.row_attr))?(0==c&&(o+="<th>"+t.capitalize()+"</th>",s.footer_totals&&("field"==s.footer_totals_type?r+=s.footer_totals_def[t]?'<th _clct="'+s.footer_totals_def[t]+'">'+s.footer_totals_def[t]+"</th>":"<th></th>":r+=s.footer_totals_def[h]?'<th _clct="'+s.footer_totals_def[h]+'">'+s.footer_totals_def[h]+"</th>":"<th></th>")),"[object Object]"==e?"_footer"==t&&(l.push(e),u=!0):0!=t.indexOf("_")&&(d+='<td name="'+t+'">'+e+"</td>")):s.row_attr.indexOf(t)>=0&&(p+=" "+t+'="'+e+'"',b=e),h++}),!u)if(s.actions_cont){let e=i.clone();s.tbb&&a?(d+='<td class="'+t.cTTBColClass+'"><div class="'+t.cTRTBClass+'">'+e.html().replace(/\b(id|name)="(.[^"]+)"/g,'$1="$2'+c+'"')+"</div>",d+=a.outerHTML().replace(/\b(id|name)="(.[^"]+)"/g,'$1="$2'+c+'"')):d+='<td class="'+t.cTTBColClass+'">'+e.html().replace(/\b(id|name)="(.[^"]+)"/g,'$1="$2'+c+'"'),isNoE(s.details_cont)||(d+=$(s.details_cont+" .row-details-closed-state").html()),d+="</td>",0==c&&(isNoE(s.actions_header)?o+='<th class="'+t.cTTBColClass+'">'+oDisplConstants.ACTN_COL_HDR+"</th>":o+='<th class="'+t.cTTBColClass+'">'+s.actions_header+"</th>")}else isNoE(s.details_cont)||(d+='<td class="dtbl-det-col">'+$(s.details_cont+" .row-details-closed-state").html()+"</td>",0==c&&(o+='<th class="dtbl-det-col">'+oDisplConstants.DET_COL_HDR+"</th>"));isNoE(d)||(n+='<tr class="" '+p+">"+d+"</tr>"),c++}),isNoE(s.actions_cont)||$(s.actions_cont).hide(),l.length>0?($.each(l,function(t){d+="<tr>",$.each(this,function(t,e){d+="<th>"+e+"</th>"}),isNoE(s.actions_cont)||(d+="<th></th>"),d+="</tr>"}),d="<tfoot>"+d+"</tfoot>"):""!=r&&(d="<tfoot><tr>"+r+"</tr></tfoot>"),'<table id="res-table-'+MC.Icurrent_mod_idx+'" class="'+s.classes+'" width="100%"><thead><tr>'+o+"</tr></thead><tbody>"+n+d+"</tbody></table>"},this.Fupdate_path_display=function(){let t=MC.FH_get(),e=cBCDD="",s=4;if(this.nCurrentBP<900&&(s=2),t.length>s){for(var a=0;a<t.length-1;a++)cBCDD+='<li class="bh-bclink"><a>'+t[a].__sBCDipl+"</a></li>";cBCDD='<ul id="bh-bc-list" class="dropdown-content bh-md-ddmenu bh-bc-list">'+cBCDD+"</ul>",e='<li></li><li class="bh-bclink"><a class="dropdown-trigger" data-target="bh-bc-list" href="#!">...</a></li><li><span>'+t[a].__sBCDipl+"</span></li>"}else{for(a=0;a<t.length-1;a++)e+='<li class="bh-bclink"><a >'+t[a].__sBCDipl+"</a></li>";e="<li></li>"+e+"<li><span>"+t[a].__sBCDipl+"</span></li>"}$("."+this.cBCClass).html(e),$("."+this.cBCClass).before(cBCDD),$("."+this.cBCClass+" .dropdown-trigger").dropdown({hover:!1,alignment:"left",constrainWidth:!1,coverTrigger:!1})},this.Fnumber_to_text=function(t){for(var e=new Array("diez","once","doce","trece","catorce","quince","diecisis","diecisiete","dieciocho","diecinueve","veinte","veintiuno","veintids","veintitrs","veinticuatro","veinticinco","veintisis","veintisiete","veintiocho","veintinueve"),s=new Array("cero","uno","dos","tres","cuatro","cinco","seis","siete","ocho","nueve"),a=new Array("","","","treinta","cuarenta","cincuenta","sesenta","setenta","ochenta","noventa"),i=new Array("","ciento","doscientos","trescientos","cuatrocientos","quinientos","seiscientos","setecientos","ochocientos","novecientos"),n=parseFloat(t).toFixed(2),o=n.toString().substring(n.toString().indexOf(".")+1),r=n.toString().substring(0,n.toString().indexOf(".")),l=(r=parseFloat(r).toString().split("").reverse(),""),d=0;d<r.length;d+=3){var c=l,h=null!=r[d+1]?parseFloat(r[d+1].toString()+r[d].toString()):parseFloat(r[d].toString());l=null!=r[d+2]?i[r[d+2]]+" ":"",l="ciento cero"==(l+=h<10?s[h]:h<30?e[h-10]:a[r[d+1]]+("0"==r[d]?"":" y "+s[r[d]]))?"cien":l,2<d&&d<6&&(l="uno"==l?"mil ":l.replace("uno","un")+" mil "),5<d&&d<9&&(l="uno"==l?"un milln ":l.replace("uno","un")+" millones "),l+=c}return l=(l=(l+=" con "+o+"/100").replace("  "," ")).replace(" cero","")},this.Fbckb_pos=function(t){},this.Fset_dlc=function(t,e){let s=MC.Fget_mod_actions(MC.Ccur_mod,$(t+" #"+e[0]).attr("data-bh-dlc-act"));if(!isNoE(s)){$("body #__iframe_dlc").presence()||$("body").append('<iframe id="__iframe_dlc" style="display: none;"></iframe>');var a=Gatherer.Fgather(t,"std",e[0]);$("#__iframe_dlc").attr("src","apiCall.php?_hdr=0&_cmnd="+s.r+"&"+a)}},this.FdfltMsgActionDone=function(t){if(this.bDefaultMessagesOnActionDone&&this.bDefaultMessageOnCurrentActionDone)switch(t){case"edit":case"choosed":return MsgToUsr.Fresult_msg(oRTConstants.UPDATE_SUCCESS,oRMConstants.UPDATE_SUCCESS),!0;case"add":case"send":return MsgToUsr.Fresult_msg(oRTConstants.INSERT_SUCCESS,oRMConstants.INSERT_SUCCESS),!0;case"del":return MsgToUsr.Fresult_msg(oRTConstants.DELETE_SUCCESS,oRMConstants.DELETE_SUCCESS),!0;case"send_mail":return MsgToUsr.Fresult_msg(oRTConstants.EMAIL_SUCCESS,oRMConstants.EMAIL_SUCCESS),$("#"+MC.Clast_submit).presence()&&($("#"+MC.Clast_submit).clearValidation(),$("#"+MC.Clast_submit).clearChanges()),!0;case"resend":return MsgToUsr.Fresult_msg(oRTConstants.EMAIL_RESENT,oRMConstants.EMAIL_RESENT),$("#"+MC.Clast_submit).presence()&&($("#"+MC.Clast_submit).clearValidation(),$("#"+MC.Clast_submit).clearChanges()),!0;case"urs":break;case"dlc":MsgToUsr.Fresult_msg(oRTConstants.DLC_BEGIN,oRMConstants.DLC_BEGIN)}this.bDefaultMessageOnCurrentActionDone=!0},this.scrollTo=function(t,e){let s=t?t.offset().top:0,a=$(".header nav").filter(function(){return"fixed"==$(this).css("position")}).height();$("html,body").animate({scrollTop:s+(e||0)-a},"slow")},this.blockUI=function(t,e){$(t).block({message:'<img src="./assets/img/loading.gif" align="absmiddle">',css:{border:"none",padding:"2px",backgroundColor:"none"},overlayCSS:{backgroundColor:"#000",opacity:.05,cursor:"wait"}})},this.unblockUI=function(t){jQuery(t).unblock({onUnblock:function(){jQuery(t).removeAttr("style")}})},this.FhideTTips=function(){Tipped.hideAll()},this.FtranslateMonths=function(t,e){switch(e){case"sp":return t.replace(/(\w+)/g,function(t,e){return oDisplConstants.MONTHS_ES[oDisplConstants.MONTHS_EN.indexOf(e)]||t})}},this.Fset_mod=function(t){t},this.isTouchDevice=function(){try{return document.createEvent("TouchEvent"),!0}catch(t){return!1}},this.Fdisplay_port_resolve=function(t,e){switch(t.attr("data-bh-display-port")){case"modal":var s=t.attr("id")+"-msg-"+random_nid();return MsgToUsr.Falert_modal({id:random_nid(),title:"",content:t.clone().attr("id",s).removeAttr("style").outerHTML()}),t.attr("display-context","#MsgBoxBack"),t.attr("display-target",s),[s,"#MsgBoxBack"];default:return[t.attr("id"),e]}},this.FisAutoWire=function(t){return"false"!=t.attr(Viewer.oFEAttr.AutoWireUp)||(console.log("Marked for wiring skipping:"+t.attr("id")),!1)},this.Fcurrent_date=function(t){return moment.locale(),moment().format("L")},this.Fcurrent_time=function(t){return moment.locale(),moment().format("LTS")}},Viewer=new ViewerCl,MsgToUsr=function(){return{ClockModalID:"__lockmod_",CISModalID:"__usris_",Falert_box:function(t,e,s,a,i){var n=a?'<button type="button" class="close close-alert"></button>':"",o="";if(t.removeClass(),t.addClass({error:"alert alert-error",warning:"alert",success:"alert alert-success",info:"alert alert-info"}[e]),t.addClass(Viewer.cNotifierClass),!0===i){var r=this;t.addClass("alert-click"),$(t).click(function(){r.Falert_modal({content:t.attr("_info")})}),o=oDisplConstants.ALERT_CLICK_IND}t.html("<i class='icon'></i>"+n+s+" "+o),t.slideDown(_BH_FESets.slide_speed),$(".close-alert",t).click(function(t){t.stopPropagation(),t.preventDefault(),$(this).parent().slideUp(_BH_FESets.slide_speed).queue(function(){$(this).remove()})})},Falert_modal:function(t){var e={title:oDisplConstants.APP_NAME,content:"",buttons:oDisplConstants.BTN_CONTINUE,callback:void 0,startup:void 0,ActiveButton:"#196900",NormalButton:"#1D943B",btn_classes:"btn green",default_btn:oDisplConstants.BTN_CONTINUE};$.extend(e,t),e.id=""+e.id,$.MetroMessageBox(e,e.callback,e.startup)},Falert_modal_hide:function(t,e){e?$.MetroMessageBoxUnload(t,!1):$.MetroMessageBoxUnload(t)},Falert_loading:function(t,e){switch(t){case"hide":$.MetroMessageBoxUnload(e);break;default:this.Falert_modal({content:_BH_FESets.ldr_mrkp,buttons:"",id:e})}},Fbg_loading:function(t){switch(t){case"hide":$(".bh-bg-ldr-cont").addClass("animated fadeOut fast").delay(300).queue(function(){$(this).remove()});break;default:$(".bh-bg-ldr-cont > *").length<1&&$(".bh-bg-ldr-cont").html(_BH_FESets.bgldr_mrkp),$(".bh-bg-ldr-cont").addClass("animated fadeIn fast")}},Falert_growl:function(t){let e={title:oDisplConstants.APP_NAME,content:"",callback:void 0,img:void 0,type:void 0,timeout:_BH_FESets.notifications.growl_time};$.extend(e,t),$.smallBox(e,e.callback)},Fresult_msg:function(t,e,s,a){(a=a||{}).msg=e;let i,n,o="",r=a.cid;switch(s=null==s||s,a._ts=Viewer.Fcurrent_date()+" "+Viewer.Fcurrent_time(),MC.NotifStack.add(a),isNoE(t)&&(t=oRTConstants.ERROR_UNKNOWN,e=oRMConstants.ERROR_UNKNOWN+" "+e),i=t.charAt(0),n=t.charAt(1),o=Viewer.oNTFR_TYPE[i]?Viewer.oNTFR_TYPE[i]:Viewer.oNTFR_TYPE[0],n){case"1":this.Falert_modal({title:oDisplConstants.APP_NAME+" "+oDisplConstants.ERROR_CRIT_TITLE,content:e,id:"__resultmsg_"+1e5.random()});break;case"2":var l={closable:s,stack:!0};r&&(l.container=r),this.Fnotifier_show(o,e,l);break;case"3":this.Falert_growl({type:o,content:e})}},Fnotifier_show:function(t,e,s){var a,i,n,o={container:Viewer.cDfltNotifierCID,closable:!0,stack:!0,ascroll:!0,click:!1,info:""},r=2,l=!1;if($.extend(o,s),!$("#"+o.container).presence()&&(o.container!=Viewer.cDfltNotifierCID?(console.log("NCID not found:"+o.container+", using dflt."),$("#"+Viewer.cDfltNotifierCID).presence()?o.container=Viewer.cDfltNotifierCID:l=!0):l=!0,l))return console.log("dflt NCID not found:"+Viewer.cDfltNotifierCID),MsgToUsr.Fresult_msg(Viewer.oNTFR_TYPE[t]+"1",e),!1;Viewer.oNTFR_TYPE[t]||(t=Viewer.oNTFR_TYPE[0]),a=parseInt(t),isNaN(a)||(t=Viewer.oNTFR_TYPE[t]),o.stack||this.Fnotifier_hide(o.container),i=(e+t).hashFnv32a(!0),(n=$("#"+o.container+" > #"+i).presence())?(n.attr("data-cnt")?(r=parseInt(n.attr("data-cnt"))+1,n.attr("data-cnt",r)):n.prepend('<span class="badge badge-'+t+'"> '+r+" </span>"),n.attr("data-cnt",r),$("span",n).html(r)):($("#"+o.container).append('<div id="'+i+'" style="display:none"></div>'),o.click&&!isNoE(o.info)&&$("#"+o.container+" > div:last").attr("_info","<br>"+o.info),this.Falert_box($("#"+o.container+" > div:last"),t,e,o.closable,o.click),o.ascroll&&Viewer.scrollTo($("#"+o.container)))},Fnotifier_hide:function(t){t=t||Viewer.cDfltNotifierCID,$("#"+t+" > ."+Viewer.cNotifierClass).wrapAll("<div>").parent().slideUp(_BH_FESets.slide_speed).queue(function(){$(this).remove()})},Fconfirm:function(t,e,s){var a=isNoE(t)?e:oDisplConstants.CONFIRM_LEGEND+t+":<br>"+e+" ?",i={title:oDisplConstants.APP_NAME,content:a,buttons:oDisplConstants.BTN_YES+","+oDisplConstants.BTN_NO,default_btn:oDisplConstants.BTN_NO,bicon_html:'<i class="icon-ok"></i>&nbsp;&nbsp;,<i class="icon-ban-circle"></i>&nbsp;&nbsp;',callback:s,startup:void 0,btn_classes:"confirm-btn_cont orange btn,confirm-btn_canc btn",id:"bhcact-"+t.replace(/\s/g,"").replace(/'/g,"").replace(/"/g,"")};this.Falert_modal(i)},Flock_screen:function(){this.Falert_modal({title:oDisplConstants.APP_NAME+" "+oDisplConstants.LOCK_TITLE,content:_BH_FESets.lock_mrkp,buttons:"",startup:function(){MsgToUsr.Fnotifier_hide()},id:this.ClockModalID})},Fusrs_xprd:function(){this.Falert_modal({title:oDisplConstants.APP_NAME+" "+oDisplConstants.USR_IS_TITLE,content:_BH_FESets.lock_mrkp,buttons:"",id:this.CISModalID,startup:function(){MsgToUsr.Fnotifier_hide()}})},Fside_pnl:function(t){var e={position:"left",label:"",movebody:!1,icon_m:"",icon_c:"icon-remove",top:0,init:!1,update:!1,startup:void 0,items:[]};$.extend(e,t),$.BHSidePanel(e)},Fside_tasks:function(t,e){isNoE(t)&&(t=[{html:'<div id="dye-sdpnl-tsk"  tgs="tsk_r,pnl_tasks">'+_BH_FESets.bgldr_mrkp+"</div>",text:oDisplConstants.LOADING}]),this.Fside_pnl({icon_m:oDisplConstants.TASK_SPANEL_ICON_CLASS,label:oDisplConstants.TASK_SPANEL_LBL,init:!0,update:!isNoE(e),items:t})},notifications:{_v:this,show:function(){let t=[],e=MC.NotifStack.get();for(let s=0;s<e.length;s++)isNoE(e[s])||t.unshift({ik:s,html:_BH_FESets.notifications.stack_tmpl.replace("{cont}",e[s].msg).replace("{ts}",e[s]._ts),_i:Viewer.oNTFR_TYPE[e[s].type]});MsgToUsr.Fside_pnl({position:"right",icon_m:_BH_FESets.notifications.stack_icon,label:_BH_FESets.notifications.stack_title,items:t}),$(".bh-sdpanel-body").on("click",".close",function(){MC.NotifStack.remove($(this).closest("[idr]").attr("idr")),$(this).closest(".swiper-slide").slideUp(_BH_FESets.slide_speed).queue(function(){$(this).remove()})})}}}}();